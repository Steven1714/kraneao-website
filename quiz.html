<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jugando Cuestionario - Kraneao</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0E0E0E; /* Negro profundo */
        }
        .quiz-card {
            background-color: rgba(30, 30, 30, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .option-btn {
            transition: background-color 0.3s, border-color 0.3s;
        }
        .correct {
            background-color: #166534 !important; /* Verde oscuro */
            border-color: #22c55e !important;
        }
        .incorrect {
            background-color: #991b1b !important; /* Rojo oscuro */
            border-color: #ef4444 !important;
        }
        .bg-image-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background-image: url('https://images.unsplash.com/photo-1550745165-9bc0b252726a?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        .bg-image-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(14, 14, 14, 0.8); /* Overlay Negro profundo */
        }
        .copy-feedback {
            transition: opacity 0.5s;
        }
    </style>
</head>
<body class="text-white">

    <div class="bg-image-container"></div>

    <header class="p-4 flex justify-between items-center max-w-7xl mx-auto">
        <h1 class="text-2xl font-bold text-blue-500">Kraneao</h1>
        <p class="font-semibold text-yellow-400">Anatomía: Drenaje Venoso Craneal</p>
    </header>

    <main class="flex items-center justify-center min-h-screen p-4">
        
        <div id="quiz-container" class="quiz-card rounded-2xl p-6 md:p-8 w-full max-w-3xl shadow-2xl">
            <div id="question-header" class="mb-6">
                <p id="question-counter" class="text-yellow-400 font-semibold"></p>
                <h2 id="question-text" class="text-2xl md:text-3xl font-bold mt-2"></h2>
            </div>

            <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Las opciones de respuesta se generarán aquí -->
            </div>

            <button id="next-button" class="hidden w-full mt-8 bg-yellow-400 text-gray-900 font-bold py-3 px-6 rounded-lg hover:bg-yellow-300 transition-colors duration-300">
                Siguiente Pregunta
            </button>
        </div>

        <div id="result-container" class="hidden text-center quiz-card rounded-2xl p-6 md:p-8 w-full max-w-3xl shadow-2xl">
            <h2 class="text-3xl font-bold mb-2">¡Cuestionario completado!</h2>
            <p class="text-lg text-gray-300 mb-4">Tu puntuación final es:</p>
            <p id="score-percentage" class="text-7xl font-black text-yellow-400 my-4"></p>
            <p id="score-text" class="text-gray-400 mb-2"></p>
            <p id="final-message" class="text-xl font-semibold text-white mb-8"></p>
            <button id="restart-button" class="w-full bg-yellow-400 text-gray-900 font-bold py-3 px-6 rounded-lg hover:bg-yellow-300 transition-colors duration-300">
                Jugar de Nuevo
            </button>

            <!-- Sección de Donación -->
            <div id="donation-section" class="mt-10 pt-6 border-t border-gray-700">
                <h3 class="text-xl font-bold mb-2 text-yellow-400">
                    <span class="underline">¿Te resultó útil? ¡Apoya este proyecto!</span>
                </h3>
                <p class="text-gray-300 mb-6">Tu donación nos ayuda a crear más cuestionarios de calidad y a mantener la plataforma gratuita para todos.</p>
                
                <div class="bg-gray-900/50 p-6 rounded-xl max-w-md mx-auto">
                    <p class="font-bold mb-4 text-lg text-center">Datos para Pago Móvil</p>
                    <ul class="space-y-2 text-gray-200 text-left">
                        <li><strong>Banco:</strong> Bancamiga</li>
                        <li><strong>Nombre:</strong> Esteban Garcia</li>
                        <li><strong>C.I.:</strong> V-17.404.104</li>
                        <li><strong>Teléfono:</strong> 0426-7619312</li>
                    </ul>
                    <button onclick="copyAllDonationData()" class="w-full mt-6 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-500 transition-colors duration-300 flex items-center justify-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
                        Copiar Todos los Datos
                    </button>
                    <p id="copy-feedback" class="text-center text-green-400 mt-4 h-4 opacity-0 copy-feedback">¡Datos copiados al portapapeles!</p>
                </div>
            </div>
        </div>

    </main>
    
    <footer class="text-center p-4 text-gray-500 max-w-7xl mx-auto">
        &copy; 2025 Kraneao.com
    </footer>

    <script>
        // --- Función para copiar todos los datos de donación ---
        function copyAllDonationData() {
            const textToCopy = `Datos para Pago Móvil - Kraneao:\nBanco: Bancamiga\nNombre: Esteban Garcia\nC.I.: V-17.404.104\nTeléfono: 04267619312`;
            
            navigator.clipboard.writeText(textToCopy).then(() => {
                const feedbackEl = document.getElementById('copy-feedback');
                feedbackEl.style.opacity = 1;
                setTimeout(() => {
                    feedbackEl.style.opacity = 0;
                }, 2000);
            }).catch(err => {
                console.error('Error al copiar texto: ', err);
                // Fallback para navegadores antiguos
                const textArea = document.createElement("textarea");
                textArea.value = textToCopy;
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    document.execCommand('copy');
                    const feedbackEl = document.getElementById('copy-feedback');
                    feedbackEl.style.opacity = 1;
                    setTimeout(() => {
                        feedbackEl.style.opacity = 0;
                    }, 2000);
                } catch (err) {
                    console.error('Fallback: Error al copiar texto: ', err);
                }
                document.body.removeChild(textArea);
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            // --- Configuración del Cuestionario ---
            const quizData = [
                {
                    question: "Según la anatomía de los senos venosos durales, ¿cuál de las siguientes afirmaciones es correcta?",
                    options: [
                        "El seno cavernoso se encuentra en la fosa craneal posterior.",
                        "El seno recto se forma por la unión del seno sagital inferior y la vena de Galeno.",
                        "El seno sagital superior drena directamente en la vena yugular interna.",
                        "La confluencia de los senos drena en el seno sagital inferior."
                    ],
                    correctAnswer: "El seno recto se forma por la unión del seno sagital inferior y la vena de Galeno."
                },
                {
                    question: "¿Qué estructura anatómica es también conocida como la 'prensa de Herófilo'?",
                    options: [
                        "El seno sigmoideo.",
                        "El seno cavernoso.",
                        "La confluencia de los senos.",
                        "El seno sagital superior."
                    ],
                    correctAnswer: "La confluencia de los senos."
                },
                {
                    question: "Los senos transversos se continúan directamente como...",
                    options: [
                        "Venas yugulares internas.",
                        "Senos sigmoideos.",
                        "Senos petrosos inferiores.",
                        "Senos sagitales inferiores."
                    ],
                    correctAnswer: "Senos sigmoideos."
                },
                {
                    question: "La vena oftálmica superior drena principalmente en el...",
                    options: [
                        "Seno sagital superior.",
                        "Seno transverso.",
                        "Seno cavernoso.",
                        "Seno recto."
                    ],
                    correctAnswer: "Seno cavernoso."
                },
                {
                    question: "¿Cuál de las siguientes venas conecta el seno sagital superior con las venas del cuero cabelludo?",
                    options: [
                        "Vena emisaria mastoidea.",
                        "Vena del lóbulo occipital.",
                        "Vena emisaria parietal.",
                        "Vena diploica frontal."
                    ],
                    correctAnswer: "Vena emisaria parietal."
                },
                {
                    question: "La vena diploica frontal drena en el seno sagital superior y en la...",
                    options: [
                        "Vena yugular interna.",
                        "Vena maxilar.",
                        "Vena supraorbitaria.",
                        "Vena oftálmica inferior."
                    ],
                    correctAnswer: "Vena supraorbitaria."
                },
                {
                    question: "La unión de la vena temporal superficial y la vena maxilar forma la...",
                    options: [
                        "Vena facial.",
                        "Vena yugular externa.",
                        "Vena retromandibular.",
                        "Vena oftálmica."
                    ],
                    correctAnswer: "Vena retromandibular."
                },
                {
                    question: "El seno sigmoideo desemboca finalmente en la...",
                    options: [
                        "Vena subclavia.",
                        "Vena yugular interna.",
                        "Vena yugular externa.",
                        "Confluencia de los senos."
                    ],
                    correctAnswer: "Vena yugular interna."
                },
                {
                    question: "¿En qué estructura ósea se localiza principalmente el seno cavernoso?",
                    options: [
                        "En el hueso occipital.",
                        "En el hueso temporal.",
                        "A cada lado del cuerpo del hueso esfenoides.",
                        "En el hueso frontal."
                    ],
                    correctAnswer: "A cada lado del cuerpo del hueso esfenoides."
                },
                {
                    question: "¿Cuál es el principal destino de drenaje de la vena facial común?",
                    options: [
                        "Vena yugular externa.",
                        "Seno cavernoso.",
                        "Plexo pterigoideo.",
                        "Vena yugular interna."
                    ],
                    correctAnswer: "Vena yugular interna."
                }
            ];

            // --- Elementos del DOM ---
            const quizContainer = document.getElementById('quiz-container');
            const resultContainer = document.getElementById('result-container');
            const questionCounterEl = document.getElementById('question-counter');
            const questionTextEl = document.getElementById('question-text');
            const optionsContainerEl = document.getElementById('options-container');
            const nextButton = document.getElementById('next-button');
            const restartButton = document.getElementById('restart-button');
            const scorePercentageEl = document.getElementById('score-percentage');
            const scoreTextEl = document.getElementById('score-text');
            const finalMessageEl = document.getElementById('final-message');

            // --- Variables de estado ---
            let currentQuestionIndex = 0;
            let score = 0;
            let answered = false;

            // --- Funciones ---
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            function loadQuestion() {
                answered = false;
                const currentQuestion = quizData[currentQuestionIndex];
                
                questionCounterEl.textContent = `Pregunta ${currentQuestionIndex + 1} de ${quizData.length}`;
                questionTextEl.textContent = currentQuestion.question;
                
                optionsContainerEl.innerHTML = '';
                const shuffledOptions = shuffleArray([...currentQuestion.options]);

                shuffledOptions.forEach(option => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.classList.add('option-btn', 'p-4', 'rounded-lg', 'border-2', 'border-gray-600', 'hover:bg-gray-700', 'hover:border-blue-500', 'text-left');
                    button.addEventListener('click', () => selectAnswer(button, option));
                    optionsContainerEl.appendChild(button);
                });

                nextButton.classList.add('hidden');
            }

            function selectAnswer(button, selectedOption) {
                if (answered) return;
                answered = true;

                const currentQuestion = quizData[currentQuestionIndex];
                const isCorrect = selectedOption === currentQuestion.correctAnswer;

                if (isCorrect) {
                    score++;
                    button.classList.add('correct');
                } else {
                    button.classList.add('incorrect');
                }

                Array.from(optionsContainerEl.children).forEach(btn => {
                    if (btn.textContent === currentQuestion.correctAnswer) {
                        btn.classList.add('correct');
                    }
                    btn.disabled = true;
                });

                if (currentQuestionIndex < quizData.length - 1) {
                    nextButton.classList.remove('hidden');
                } else {
                    showResults();
                }
            }
            
            function showResults() {
                quizContainer.classList.add('hidden');
                resultContainer.classList.remove('hidden');

                const percentage = Math.round((score / quizData.length) * 100);
                scorePercentageEl.textContent = `${percentage}%`;
                scoreTextEl.textContent = `(${score} de ${quizData.length} correctas)`;

                if (percentage === 100) {
                    finalMessageEl.textContent = "¡Perfecto! Dominas el tema.";
                } else if (percentage >= 70) {
                    finalMessageEl.textContent = "¡Excelente trabajo!";
                } else if (percentage >= 50) {
                    finalMessageEl.textContent = "¡Buen intento! Sigue así.";
                } else {
                    finalMessageEl.textContent = "¡Nada mal! Sigue practicando.";
                }
            }

            function restartQuiz() {
                currentQuestionIndex = 0;
                score = 0;
                resultContainer.classList.add('hidden');
                quizContainer.classList.remove('hidden');
                loadQuestion();
            }

            // --- Event Listeners ---
            nextButton.addEventListener('click', () => {
                currentQuestionIndex++;
                loadQuestion();
            });

            restartButton.addEventListener('click', restartQuiz);

            // --- Iniciar Cuestionario ---
            loadQuestion();
        });
    </script>
</body>
</html>



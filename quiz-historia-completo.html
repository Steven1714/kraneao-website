<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kraneao - Cuestionario Historia de la Medicina</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Carga de la fuente Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">

    <script>
        // Configuración de Tailwind CSS con la paleta de colores de marca
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'brand-blue': '#0056FF',       // Azul royal
                        'brand-yellow': '#FFD600',     // Amarillo neón
                        'brand-gray': '#C9C9C9',       // Gris suave
                        'brand-dark-blue': '#021059',  // Azul oscuro
                        'brand-bg': '#0E0E0E',         // Negro profundo
                    }
                }
            }
        }
    </script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f9fafb; /* Fondo gris muy claro */
            color: #021059; /* Texto principal azul oscuro */
            -webkit-tap-highlight-color: transparent;
        }
        /* Estilos botones de opción */
        .option-btn, .checkbox-label {
            transition: all 0.2s ease-in-out;
            border: 1px solid #d1d5db; /* Borde gris claro */
            background-color: #ffffff; /* Fondo blanco */
            color: #021059; /* Texto azul oscuro */
            cursor: pointer;
            border-radius: 0.5rem;
            padding: 0.75rem 1rem; /* Reducido padding vertical */
            min-height: 50px; /* Asegurar altura mínima */
            display: flex; /* Para alinear contenido verticalmente si es necesario */
            align-items: center;
        }
        .option-btn:hover, .checkbox-label:hover {
            border-color: #FFD600; /* Borde amarillo al pasar */
            background-color: #FFFBEB; /* Fondo amarillo muy claro */
        }
        /* Added focus styles for accessibility */
        .option-btn:focus, .checkbox-label:focus {
            border-color: #0056FF;
            box-shadow: 0 0 0 2px rgba(0, 86, 255, 0.2);
            outline: none;
        }
        .option-btn.selected, .checkbox-label.selected {
            background-color: #0056FF; /* Fondo azul */
            border-color: #004ADF; /* Borde azul más oscuro */
            color: white; /* Texto blanco */
        }
        /* Estilos feedback */
        .correct { background-color: #10B981 !important; color: white !important; border-color: #059669 !important; }
        .almost-correct { background-color: #F59E0B !important; color: white !important; border-color: #D97706 !important; }
        .incorrect { background-color: #EF4444 !important; color: white !important; border-color: #DC2626 !important; }
        .disabled { pointer-events: none; opacity: 0.8; }
        .completion-input {
            transition: all 0.2s ease-in-out;
            background-color: #f3f4f6; /* Fondo gris claro */
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            padding: 0.75rem 1rem; /* Reducido padding vertical */
            color: #021059; /* Ensure text color is dark */
        }
        .completion-input:focus {
            border-color: #0056FF;
            box-shadow: 0 0 0 2px rgba(0, 86, 255, 0.2);
            outline: none;
        }
        /* Botones principales (Verificar, Siguiente) */
        .main-action-button {
            background-color: #FFD600; /* Amarillo */
            color: #021059; /* Azul oscuro */
            transition: background-color 0.2s ease-in-out;
            border-radius: 0.5rem;
        }
         .main-action-button:hover:enabled {
            background-color: #FACC15; /* Amarillo más oscuro */
        }
        .main-action-button:disabled {
            background-color: #E5E7EB; /* Gris claro */
            color: #9CA3AF; /* Gris oscuro */
            cursor: not-allowed;
            opacity: 0.7;
        }
        /* Botón secundario (Volver al inicio, Copiar datos) */
        .secondary-action-button {
            background-color: #0056FF; /* Azul */
            color: white;
            transition: background-color 0.2s ease-in-out;
            border-radius: 0.5rem;
        }
        .secondary-action-button:hover {
            background-color: #004ADF; /* Azul más oscuro */
        }

        /* Barra de progreso */
        .progress-bar-fill {
            background-color: #0056FF; /* Azul */
            transition: width 0.3s ease-in-out;
        }

        /* Estilos de impresión */
        @media print {
            body { background-color: white !important; color: black !important; }
            body * { visibility: hidden; }
            #study-guide-container, #study-guide-container * { visibility: visible; color: black !important; }
            #quiz-container { border: none !important; box-shadow: none !important; }
            #study-guide-container { position: absolute; left: 0; top: 0; width: 100%; background-color: white !important; padding: 2rem; border: none !important; box-shadow: none !important; }
            #study-guide-container h2, #study-guide-container p { color: black !important; }
            .print-hidden { display: none; }
            .guide-item { background-color: #f3f4f6 !important; border: 1px solid #d1d5db !important; page-break-inside: avoid; }
            .guide-item p span { color: black !important; }
            header { display: none !important;} /* Ocultar header al imprimir */
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Encabezado -->
    <header class="w-full bg-white shadow-sm sticky top-0 z-20 p-4 print-hidden">
        <nav class="max-w-7xl mx-auto flex justify-between items-center">
            <!-- Logo -->
            <a href="#"> <!-- Changed href to avoid broken link if index.html is not present -->
                <!-- Placeholder for logo -->
                <img src="logo-final.png" alt="Logo de Kraneao" class="h-10 md:h-12" onerror="this.alt='Kraneao Logo'; this.style.display='none';">
            </a>

            <!-- Enlace de Iniciar Sesión -->
            <div>
                <a href="#" class="font-semibold text-brand-dark-blue bg-brand-blue/10 hover:bg-brand-blue/20 px-5 py-2 rounded-lg transition-colors">
                    Iniciar Sesión
                </a>
            </div>
        </nav>
    </header>


    <!-- Contenedor Principal del Cuestionario -->
    <div id="quiz-container" class="w-full max-w-3xl bg-white rounded-2xl shadow-xl p-6 md:p-8 relative border border-gray-200 my-8 mx-auto flex-grow flex flex-col">

        <!-- Pantalla del Cuestionario (visible por defecto) -->
        <div id="quiz-screen" class="flex flex-col flex-grow">
            <!-- Logo Central Añadido -->
            <div class="flex justify-center mb-4 print-hidden">
                <!-- Placeholder for logo -->
                 <img src="logo-principal-color.png" alt="Logo Kraneao" class="h-16 md:h-20" onerror="this.alt='Kraneao'; this.style.display='none';">
            </div>

            <h1 class="text-xl md:text-2xl font-bold text-brand-blue mb-4 text-center">
                Historia de la Medicina - Cuestionario
            </h1>
            <!-- Progreso y Puntaje -->
            <div class="mb-4">
                <div class="flex justify-between items-center mb-2">
                    <!-- Cleaned up HTML counter -->
                    <span id="question-counter-text" class="text-sm font-semibold text-brand-blue">Pregunta...</span>
                    <span id="score" class="text-sm font-semibold text-brand-dark-blue">Puntaje: 0</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5">
                    <div id="progress-bar" class="progress-bar-fill h-2.5 rounded-full" style="width: 0%"></div>
                </div>
            </div>

            <!-- Pregunta y Opciones -->
            <div class="flex-grow">
                <p id="question-type" class="text-sm font-bold text-yellow-600 mb-2"></p>
                <h2 id="question" class="text-lg md:text-xl font-bold mb-4 text-brand-dark-blue">Cargando pregunta...</h2>
                <div id="options" class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-4"></div>
            </div>

            <!-- Feedback -->
            <div id="feedback-container" class="min-h-[40px]">
                 <p id="feedback" class="text-sm md:text-base text-gray-600 mb-4"></p>
            </div>

            <!-- Botones de Acción -->
            <div class="mt-auto pt-4 print-hidden">
                <button id="check-btn" class="main-action-button w-full font-bold py-3 px-6 rounded-lg text-lg hidden disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                    Verificar Respuesta
                </button>
                <button id="next-btn" class="main-action-button w-full font-bold py-3 px-6 rounded-lg text-lg hidden">
                    Siguiente Pregunta
                </button>
            </div>
        </div>

        <!-- Pantalla de Resultados (oculta inicialmente) -->
        <div id="result-screen" class="hidden text-center">
             <h1 class="text-3xl md:text-4xl font-bold text-brand-blue mb-4 print-hidden">¡Reto Completado!</h1>
             <p class="text-2xl text-brand-dark-blue mb-6 print-hidden">Tu puntaje final es:</p>
             <p id="final-score" class="text-6xl font-extrabold text-brand-blue mb-8 print-hidden"></p>
             <p id="final-message" class="text-lg text-brand-dark-blue/80 mb-8 print-hidden"></p>

             <!-- Botón Volver al Inicio (Ahora recarga la página) -->
             <button id="restart-btn" class="secondary-action-button w-full font-bold py-3 px-6 rounded-lg text-lg mb-6 print-hidden">
                 Volver a Jugar
             </button>

             <!-- ******** SECCIÓN DE APOYO / GUÍA PDF ******** -->
             <div class="mt-10 border-t pt-6 print-hidden bg-blue-50 p-6 rounded-lg border border-brand-blue">
                 <h3 class="text-xl font-bold text-brand-blue mb-3">¡Consigue tu Guía de Refuerzo en PDF!</h3>
                 <p class="text-brand-dark-blue/90 mb-4">
                     Si este cuestionario te fue útil, apoya nuestro proyecto con un pequeño aporte. Como agradecimiento, te enviaremos por correo la **Guía de Refuerzo Personalizada en formato PDF**, ideal para repasar.
                 </p>
                 <p class="text-brand-dark-blue/90 mb-4">
                     **Pasos:**
                     <ol class="list-decimal list-inside text-left ml-4 mb-4">
                         <li>Copia nuestros datos de Pago Móvil.</li>
                         <li>Realiza tu aporte.</li>
                         <li>Envía el capture de pantalla a <strong class="text-brand-blue">esteban.ceo@kraneao.com</strong> junto con tu correo electrónico.</li>
                     </ol>
                 </p>
                 <button id="copy-payment-data-btn" class="secondary-action-button font-bold py-3 px-6 rounded-lg mb-2">
                     Copiar Datos para Pago Móvil
                 </button>
                 <div id="copy-message" class="text-sm text-green-600 font-medium mt-1 hidden">¡Datos copiados!</div>
                 <!-- Datos de Pago (Ocultos inicialmente, solo como referencia en el código) -->
                 <div id="payment-data" class="hidden">Datos para Pago Móvil - Kraneao: Banco: Bancamiga, Nombre: Esteban Garcia, C.I.: V-17.404.104, Teléfono: 04267619312</div>
             </div>
             <!-- ******** FIN DE LA SECCIÓN DE APOYO ******** -->


             <!-- Contenedor Guía de Refuerzo (Ahora después de la sección de apoyo) -->
             <div id="study-guide-container" class="mt-8 text-left">
                 <!-- La guía se generará aquí (aún visible en pantalla por ahora) -->
             </div>
        </div>
    </div>

     <!-- Pie de página -->
     <footer class="w-full text-center p-4 text-brand-dark-blue/70 bg-gray-100 mt-auto print-hidden">
         &copy; 2025 Kraneao.com
     </footer>


    <!-- Script Principal del Cuestionario -->
    <script>
        document.addEventListener('DOMContentLoaded', () => { // Esperar a que el DOM esté listo

            // --- INICIO: DATOS DEL CUESTIONARIO (300 Preguntas - Tipos Corregidos) ---
            const quizData = [
                // Módulo 1
                { id: 1, question: `¿Cuál era el nombre más común para la figura que era médico, sacerdote y adivino en las sociedades indígenas?`, type: 'completion', answer: "Piache" },
                { id: 2, question: `Verdadero o Falso: Los indígenas consideraban todas las enfermedades como castigos de espíritus malignos.`, type: 'tf', answer: false },
                { id: 3, question: `Para tratar fracturas, los indígenas usaban tablillas hechas con la corteza de la planta de ____.`, type: 'completion', answer: "moguey|maguey" }, // Added alternative spelling
                { id: 4, question: `Selecciona todos los métodos 'quirúrgicos' practicados por los pueblos indígenas.`, type: 'multiple', options: ["Amputación por mordedura de serpiente", "Reducción de luxaciones", "Cauterización de heridas", "Trepanación rutinaria", "Cirugía a corazón abierto"], answer: ["Amputación por mordedura de serpiente", "Reducción de luxaciones", "Cauterización de heridas"] },
                { id: 5, question: `El misionero José Gumilla describió que los Otomacos del Guárico practicaban la geofagia, que es el consumo de...`, type: 'completion', answer: "Arcilla|Tierra" },
                { id: 6, question: `El veneno que los indígenas Cumanagotos usaban en sus flechas, y que hoy tiene uso farmacológico, es el...`, type: 'completion', answer: "Curare" },
                { id: 7, question: `Las maracas sagradas usadas por el Piache para ahuyentar espíritus eran llamadas ____.`, type: 'completion', answer: "mataro|maraca sagrada" },
                { id: 8, question: `Verdadero o Falso: Los pueblos indígenas no tenían métodos de prevención, solo curaban las enfermedades una vez aparecían.`, type: 'tf', answer: false },
                { id: 9, question: `Para calmar dolores, los indígenas aplicaban una técnica que consistía en quemaduras superficiales, conocida como...`, type: 'completion', answer: "Puntos de fuego" },
                { id: 10, question: `El soldado español que fue capturado por los indios quiriquires y se convirtió en Piache fue...`, type: 'completion', answer: "Francisco Martín" },
                { id: 11, question: `El Piache de los Pemón (Estado Bolívar) se llama...`, type: 'completion', answer: "Piasán" },
                { id: 12, question: `Verdadero o Falso: Según la leyenda Guajira, el 'Seyúu' es un espíritu maligno que causa enfermedades.`, type: 'tf', answer: false },
                { id: 13, question: `Los Otomacos usaban como anestésico unos polvos llamados ____, aplicados en las fosas nasales.`, type: 'completion', answer: "yupaz|yopo" }, // Yupaz is less common, Yopo related
                { id: 14, question: `El chamán de los Yanomami, llamado Shapori, inhala un alucinógeno conocido como ____ para sus ceremonias.`, type: 'completion', answer: "Yopo|Ebena" },
                { id: 15, question: `Selecciona las plantas que los indígenas usaban para tratar las diarreas.`, type: 'multiple', options: ["Hoja de guayabo", "Merey", "Curare", "Menta"], answer: ["Hoja de guayabo", "Merey"] },
                { id: 16, question: `La enfermedad 'wanûlûû' entre los guajiros necesitaba ser curada por...`, type: 'completion', answer: "El Piache|Piache|Oü'tshi" },
                { id: 17, question: `Verdadero o Falso: Los indígenas venezolanos practicaban la trepanación craneal de forma rutinaria.`, type: 'tf', answer: false },
                { id: 18, question: `Los indígenas del Orinoco usaban ____ masticado para las mordeduras de serpiente.`, type: 'completion', answer: "tabaco" },
                { id: 19, question: `Para los indígenas Kariña (Monagas), el chamán que se comunicaba con el dios Maavare se llamaba...`, type: 'completion', answer: "Puddai" },
                { id: 20, question: `El uso de la uña de danta como amuleto se asociaba a la protección contra enfermedades del...`, type: 'completion', answer: "Corazón" },
                // Módulo 2
                { id: 21, question: `¿En qué año ocurrió la primera gran epidemia de viruela documentada, traída por un barco de esclavos?`, type: 'completion', answer: "1580" },
                { id: 22, question: `Verdadero o Falso: Los cirujanos españoles estaban bien preparados para tratar las heridas de flechas envenenadas.`, type: 'tf', answer: false },
                { id: 23, question: `El cronista que escribió en verso sobre la medicina de la conquista fue ____ de Castellanos.`, type: 'completion', answer: "Juan" },
                { id: 24, question: `El primer hospital documentado en Venezuela (1565) fue el Hospital de Santiago en la ciudad de...`, type: 'completion', answer: "Barquisimeto|Nueva Segovia de Barquisimeto" },
                { id: 25, question: `La primera ciudad fundada en tierra firme de Venezuela y del continente americano fue...`, type: 'completion', answer: "Cumaná" },
                { id: 26, question: `Selecciona las enfermedades que los conquistadores trajeron a América y que causaron gran mortalidad indígena.`, type: 'multiple', options: ["Viruela", "Sarampión", "Sífilis", "Escorbuto", "Malaria"], answer: ["Viruela", "Sarampión"] },
                { id: 27, question: `Verdadero o Falso: Cristóbal Colón llegó a las costas de Venezuela en su tercer viaje acompañado por un equipo médico completo.`, type: 'tf', answer: false },
                { id: 28, question: `El cirujano que realizó una autopsia experimental en un indio para saber cómo curar a Felipe de Hutten fue Diego de ____.`, type: 'completion', answer: "Montes" },
                { id: 29, question: `La isla de Curazao recibió su nombre porque unos marineros abandonados allí se curaron de ____ comiendo frutas.`, type: 'completion', answer: "Escorbuto" },
                { id: 30, question: `La primera autopsia documentada en Venezuela (1696) fue practicada por el cirujano...`, type: 'completion', answer: "Francisco Guerra Martínez" },
                { id: 31, question: `Alonso de Ojeda, en su primer viaje, trajo a un cirujano español llamado...`, type: 'completion', answer: "Alonso" }, // Note: Simple name given in source
                { id: 32, question: `Verdadero o Falso: El primer obispo de Venezuela, Rodrigo de Bastidas, procesó a un enfermo de lepra y lo envió a Puerto Rico.`, type: 'tf', answer: true },
                { id: 33, question: `El historiador que describió la primera epidemia de viruela de 1580 fue José de Oviedo y ____.`, type: 'completion', answer: "Baños" },
                { id: 34, question: `La enfermedad conocida como 'tabardillo', que sufrió Lope de Aguirre, es hoy en día conocida como...`, type: 'completion', answer: "Insolación|Tifus exantemático|Tifus" }, // Tabardillo historically linked to Typhus too
                { id: 35, question: `Además de médicos, las expediciones de la conquista solían incluir a:`, type: 'multiple', options: ["Cirujanos", "Boticarios", "Herbolarios", "Sacerdotes", "Cartógrafos"], answer: ["Cirujanos", "Boticarios", "Herbolarios"] },
                { id: 36, question: `Verdadero o Falso: Las 'niguas' (Tunga penetrans) son un tipo de mosquito que transmitía enfermedades.`, type: 'tf', answer: false },
                { id: 37, question: `El primer médico en ejercer en Caracas, en 1583, fue Don Miguel ____.`, type: 'completion', answer: "Gerónimo|Jerónimo" },
                { id: 38, question: `Los Welser eran conquistadores de origen...`, type: 'completion', answer: "Alemán" },
                { id: 39, question: `El primer caso de sífilis historiado en Venezuela fue el del bachiller médico Pedro ____ Guevara.`, type: 'completion', answer: "Freytes" },
                { id: 40, question: `El principal método que usaban los cirujanos españoles para tratar las heridas de flechas envenenadas era la...`, type: 'completion', answer: "Cauterización" },
                // Módulo 3
                { id: 41, question: `La 'Expedición Real de la Vacuna' llegó a Venezuela para introducir la vacuna de Jenner en el año...`, type: 'completion', answer: "1804" },
                { id: 42, question: `La primera Cátedra de Medicina en Venezuela fue fundada el 10 de octubre de ____ por Lorenzo Campins y Ballester.`, type: 'completion', answer: "1763" },
                { id: 43, question: `Verdadero o Falso: El Protomedicato, creado en 1777, era una institución para financiar la construcción de hospitales.`, type: 'tf', answer: false },
                { id: 44, question: `El primer médico graduado en la universidad en Venezuela fue...`, type: 'completion', answer: "José Francisco Molina Sierra|Molina Sierra" },
                { id: 45, question: `En Guárico, el científico autodidacta ____ fue un colaborador clave de la Expedición de la Vacuna en Calabozo.`, type: 'completion', answer: "Carlos del Pozo|Del Pozo" },
                { id: 46, question: `El método antiguo y riesgoso de inocular pus de viruela para generar inmunidad se llama...`, type: 'completion', answer: "Variolización" },
                { id: 47, question: `El famoso poeta ____ Bello escribió una oda en honor a la llegada de la vacuna.`, type: 'completion', answer: "Andrés" },
                { id: 48, question: `Verdadero o Falso: Los Cirujanos Romancistas eran aquellos que estudiaban los textos médicos en latín.`, type: 'tf', answer: false },
                { id: 49, question: `La primera universidad de Venezuela, donde se fundó la Cátedra de Medicina, fue la...`, type: 'completion', answer: "Universidad Real y Pontificia de Caracas|Universidad de Caracas|UCV" },
                { id: 50, question: `El Protomedicato tenía autoridad para examinar y licenciar a:`, type: 'multiple', options: ["Médicos", "Boticarios", "Cirujanos", "Enfermeros", "Parteras"], answer: ["Médicos", "Boticarios", "Cirujanos"] },
                { id: 51, question: `El primer libro formal para la enseñanza de la medicina en Venezuela fue 'Elementos de Medicina Práctica' de...`, type: 'completion', answer: "Guillermo Cullen|Cullen" },
                { id: 52, question: `El primer hospital de Caracas, iniciado en 1590, fue el Hospital de ____.`, type: 'completion', answer: "San Pablo" },
                { id: 53, question: `Verdadero o Falso: El obispo Mariano Martí documentó la ausencia de hospitales en Calabozo durante su visita en el siglo XVIII.`, type: 'tf', answer: true },
                { id: 54, question: `La primera trepanación craneana en Caracas fue practicada en 1736 por cirujanos de origen...`, type: 'completion', answer: "Francés" },
                { id: 55, question: `El primer Protomédico nacido en Venezuela fue...`, type: 'completion', answer: "José Francisco Molina Sierra|Molina Sierra" },
                // Módulo 4
                { id: 56, question: `¿Qué política, decretada en 1813, excluía la asistencia médica a los heridos del bando contrario?`, type: 'completion', answer: "El Decreto de Guerra a Muerte|Decreto de Guerra a Muerte" },
                { id: 57, question: `Selecciona a los médicos que fueron firmantes del Acta de Independencia de 1811.`, type: 'multiple', options: ["José Ángel Álamo", "Manuel Palacio Fajardo", "Francisco Isnardi", "Vicente Salias", "José María Vargas"], answer: ["José Ángel Álamo", "Manuel Palacio Fajardo", "Francisco Isnardi"] },
                { id: 58, question: `El grupo de voluntarios extranjeros que mejoró la sanidad militar patriota a partir de 1817 fue...`, type: 'completion', answer: "La Legión Británica|Legión Británica" },
                { id: 59, question: `El autor de la letra del Himno Nacional, 'Gloria al Bravo Pueblo', fue el Dr. Vicente ____.`, type: 'completion', answer: "Salias" },
                { id: 60, question: `Verdadero o Falso: El Dr. Richard Murphy, jefe de los médicos en Carabobo, era un médico venezolano.`, type: 'tf', answer: false },
                { id: 61, question: `La primera cesárea del continente americano fue realizada en Cumaná en 1820 por el Dr...`, type: 'completion', answer: "Alonso Ruíz Moreno|Ruíz Moreno" },
                { id: 62, question: `El médico realista, editor de la Gazeta de Caracas y enemigo de la independencia fue José Domingo ____.`, type: 'completion', answer: "Díaz" },
                { id: 63, question: `Debido a la escasez de médicos, los 21 estudiantes de medicina en 1810...`, type: 'completion', answer: "Abandonaron sus estudios para unirse al ejército|Se unieron al ejército" },
                { id: 64, question: `Verdadero o Falso: Los ejércitos patriotas contaron desde el inicio de la guerra con un cuerpo de sanidad bien organizado.`, type: 'tf', answer: false },
                { id: 65, question: `En 1818, en el Rincón de los Toros (Guárico), Simón Bolívar sufrió de una afección cutánea conocida como...`, type: 'completion', answer: "Carbuncos|ántrax" },
                { id: 66, question: `El Dr. John Ross, nombrado Cirujano Mayor del ejército en 1814, fue el primer nombramiento de...`, type: 'completion', answer: "Médico militar" },
                { id: 67, question: `Verdadero o Falso: El Tratado de Regularización de la Guerra (1820) mantuvo la exclusión de asistencia médica al enemigo.`, type: 'tf', answer: false },
                { id: 68, question: `El jefe realista ____, famoso por su crueldad, perpetró una masacre en San Juan de los Morros en 1813.`, type: 'completion', answer: "Antoñanzas" },
                { id: 69, question: `Durante la Batalla de Carabobo, el General José Antonio Páez sufrió un ataque de...`, type: 'completion', answer: "Epilepsia" },
                { id: 70, question: `El primer Hospital de Sangre (de campaña) fue creado por Bolívar en 1814 en la ciudad de...`, type: 'completion', answer: "La Victoria" },
                // Módulo 5
                { id: 71, question: `¿Quién es considerado el 'Padre de la medicina moderna venezolana' por su reforma educativa en 1827?`, type: 'completion', answer: "José María Vargas|Vargas" },
                { id: 72, question: `Verdadero o Falso: La práctica revolucionaria que introdujo José María Vargas en su Cátedra de Anatomía fue el uso del microscopio.`, type: 'tf', answer: false, explanation: "Fue la disección de cadáveres." },
                { id: 73, question: `El Dr. Luis Daniel Beauperthuy, en 1854, fue el pionero mundial en proponer que la fiebre amarilla era transmitida por...`, type: 'completion', answer: "Un mosquito|mosquito" },
                { id: 74, question: `El médico que descubrió científicamente la presencia del árbol de la ____ en Venezuela fue José María Benítez.`, type: 'completion', answer: "quina" },
                { id: 75, question: `El poeta y médico Francisco Lazo Martí fue profesor de Patología Interna en el Colegio Nacional de...`, type: 'completion', answer: "Calabozo" },
                { id: 76, question: `La 'peste boba' o derrengadera del ganado en los llanos guariqueños fue estudiada por Vargas, Hernández y finalmente identificada por...`, type: 'completion', answer: "Rafael Rangel|Rangel" },
                { id: 77, question: `Verdadero o Falso: En 1827, Simón Bolívar decretó la creación del Protomedicato para modernizar la medicina.`, type: 'tf', answer: false, explanation: "Bolívar abolió el Protomedicato y creó la Facultad Médica de Caracas." },
                { id: 78, question: `El último médico que atendió a Simón Bolívar y realizó su autopsia fue el Dr. Alejandro Próspero ____.`, type: 'completion', answer: "Reverend" },
                { id: 79, question: `Selecciona las cátedras que José María Vargas fundó o regentó en la UCV.`, type: 'multiple', options: ["Anatomía", "Cirugía", "Química", "Oftalmología", "Botánica"], answer: ["Anatomía", "Cirugía", "Química"] },
                { id: 80, question: `La enfermedad principal que causó la muerte del Libertador Simón Bolívar fue...`, type: 'completion', answer: "Tuberculosis" },
                { id: 81, question: `El Hospital Vargas de Caracas, un hito en la medicina venezolana, fue inaugurado en el año...`, type: 'completion', answer: "1891" },
                { id: 82, question: `Verdadero o Falso: El primer rector del Colegio Nacional de Calabozo fue el poeta Francisco Lazo Martí.`, type: 'tf', answer: false },
                { id: 83, question: `El primer médico en recibir el título de Doctor en Ciencias Médicas en el Colegio de Calabozo fue Antonio María ____.`, type: 'completion', answer: "Parra" },
                { id: 84, question: `Simón Rodríguez, el maestro de Bolívar, tenía un peculiar método para enseñar anatomía, que consistía en...`, type: 'completion', answer: "Mostrar su propio cuerpo desnudo|Usar su cuerpo" },
                { id: 85, question: `La Facultad Médica de Caracas, creada en 1827, estableció la Sociedad Médica de...`, type: 'completion', answer: "Instrucción" },
                // Módulo 6
                { id: 86, question: `¿Quién es considerado el padre de la parasitología en Venezuela, famoso por su estudio del anquilostomo?`, type: 'completion', answer: "Rafael Rangel|Rangel" },
                { id: 87, question: `Verdadero o Falso: La Academia Nacional de Medicina se fundó en 1945.`, type: 'tf', answer: false, explanation: "Se fundó en 1904." },
                { id: 88, question: `El inventor del bisturí de diamante fue el Dr...`, type: 'completion', answer: "Humberto Fernández Morán|Fernández Morán" },
                { id: 89, question: `El Dr. Jacinto Convit recibió reconocimiento mundial por desarrollar una vacuna contra...`, type: 'completion', answer: "La Lepra|Lepra" },
                { id: 90, question: `José Gregorio Hernández es el fundador de la medicina ____ en Venezuela, al crear las cátedras de histología y bacteriología en 1891.`, type: 'completion', answer: "experimental" },
                { id: 91, question: `El primer caso de Chagas congénito en el mundo fue descubierto en 1948 en Chaguaramas, Guárico, por el Dr...`, type: 'completion', answer: "Luis Dao|Dao" },
                { id: 92, question: `La primera mujer en obtener un título de médico en Venezuela (1936) fue...`, type: 'completion', answer: "Lya Imber de Coronil|Lya Imber" },
                { id: 93, question: `El Dr. ____ fue el líder de la campaña que erradicó la malaria en Venezuela en el siglo XX.`, type: 'completion', answer: "Arnoldo Gabaldón|Gabaldón" },
                { id: 94, question: `Verdadero o Falso: El Instituto Venezolano de Investigaciones Científicas (IVIC) fue fundado originalmente por Jacinto Convit.`, type: 'tf', answer: false, explanation: "Fue fundado por Humberto Fernández Morán como IVNIC." },
                { id: 95, question: `Selecciona los logros sanitarios más importantes del siglo XX en Venezuela.`, type: 'multiple', options: ["Erradicación de la viruela", "Control del paludismo", "Disminución de la mortalidad infantil", "Vacuna contra el Chagas", "Erradicación de la lepra"], answer: ["Erradicación de la viruela", "Control del paludismo", "Disminución de la mortalidad infantil"] },
                { id: 96, question: `El Dr. Francisco Antonio Rísquez, cuyos restos reposan en el Panteón Nacional, fue un gran impulsor de...`, type: 'completion', answer: "Los estudios de enfermería|Estudios de enfermería|Enfermería" },
                { id: 97, question: `El primer microscopio fue introducido a la UCV por el Dr. ____.`, type: 'completion', answer: "José Gregorio Hernández|Hernández" },
                { id: 98, question: `Verdadero o Falso: El Dr. Rafael Rangel completó sus estudios y se graduó como Doctor en Ciencias Médicas.`, type: 'tf', answer: false },
                { id: 99, question: `El Dr. Humberto Fernández-Morán trabajó en el programa Apolo de la NASA analizando...`, type: 'completion', answer: "Rocas lunares" },
                { id: 100, question: `La beatificación de José Gregorio Hernández en 2021 se debió al milagro de la curación de...`, type: 'completion', answer: "Yaxury Solórzano" },
                { id: 101, question: `La Gaceta Médica de Caracas, órgano oficial de la Academia Nacional de Medicina, fue fundada en 1893 por el Dr...`, type: 'completion', answer: "Luis Razetti|Razetti" },
                { id: 102, question: `Verdadero o Falso: El 10 de marzo se celebra el Día del Médico en Venezuela en honor a José Gregorio Hernández.`, type: 'tf', answer: false, explanation: "Se celebra en honor a José María Vargas." },
                { id: 103, question: `El político y general ____, oriundo de Guárico, decretó la reforma de los estudios médicos en 1895 y 1896.`, type: 'completion', answer: "Joaquín Crespo|Crespo" },
                { id: 104, question: `El primer caso de brucelosis humana en Venezuela fue diagnosticado en 1939 en la ciudad de...`, type: 'completion', answer: "Calabozo" },
                { id: 105, question: `El Dr. ____, de Chaguaramas, fue el introductor del método aséptico en la cirugía venezolana.`, type: 'completion', answer: "Miguel Antonio Seco|Seco" },
                // Módulo 7
                { id: 106, question: `El naturalista y entomólogo Dr. Manuel Núñez Tovar es la figura médica más importante de la historia del estado...`, type: 'completion', answer: "Monagas" },
                { id: 107, question: `Verdadero o Falso: El Colegio de Médicos del estado Monagas se fundó el 10 de junio de 1945.`, type: 'tf', answer: true },
                { id: 108, question: `Los indígenas Chaimas, del estado Monagas, usaban las semillas del ____ para tratar dolores de estómago.`, type: 'completion', answer: "guácharo" },
                { id: 109, question: `El primer caso de Kala-azar en Venezuela fue descubierto en 1941 en la población guariqueña de...`, type: 'completion', answer: "Las Mercedes del Llano" },
                { id: 110, question: `Verdadero o Falso: El Hospital principal de San Juan de los Morros lleva el nombre del Dr. José Francisco Torrealba.`, type: 'tf', answer: false, explanation: "Lleva el nombre del Dr. Israel Ranuárez Balza." },
                { id: 111, question: `El Dr. ____, médico de Zaraza, fue el primero en diagnosticar la peste bubónica en La Guaira en 1908.`, type: 'completion', answer: "Rosendo Gómez Peraza|Gómez Peraza" },
                { id: 112, question: `La novela 'Casas Muertas' de Miguel Otero Silva está ambientada en la epidemia de ____ que asoló a Ortiz, Guárico.`, type: 'completion', answer: "Paludismo|Malaria" },
                { id: 113, question: `El primer Hospital Militar de Maturín, un centro de campaña, fue fundado en el año...`, type: 'completion', answer: "1816" },
                { id: 114, question: `Verdadero o Falso: El Dr. Gaetano Supinii, posiblemente el primer médico en Maturín, era de origen español.`, type: 'tf', answer: false, explanation: "Era de origen italiano." },
                { id: 115, question: `La primera mujer ginecóloga del estado Monagas fue la Dra. ____ Aguilar.`, type: 'completion', answer: "Candelaria" },
                { id: 116, question: `El Dr. José Francisco Torrealba es mundialmente conocido por sus investigaciones sobre...`, type: 'completion', answer: "El Mal de Chagas|Mal de Chagas|Chagas" },
                { id: 117, question: `La primera apendicectomía en Venezuela fue realizada en 1896 en el Hospital Vargas por el Dr...`, type: 'completion', answer: "Miguel Ruiz|Ruiz" },
                { id: 118, question: `Verdadero o Falso: El Dr. Julio De Armas (h), rector de la UCV, nació en Calabozo.`, type: 'tf', answer: false, explanation: "Nació en Guayabal, Guárico." },
                { id: 119, question: `¿Qué médico guariqueño inventó el 'estilo Isturiz' para vacunar contra la viruela?`, type: 'completion', answer: "Jesús María Isturiz|Isturiz" },
                { id: 120, question: `El Dr. ____, de Altagracia de Orituco, fue un pionero de la ofidiología (estudio de serpientes) en Venezuela.`, type: 'completion', answer: "Benito Gutiérrez López|Gutiérrez López" },
                { id: 121, question: `El 'Mago de la cirugía' y uno de los fundadores de la Academia Nacional de Medicina fue el Dr...`, type: 'completion', answer: "Pablo Acosta Ortiz|Acosta Ortiz" },
                { id: 122, question: `Selecciona a los médicos nacidos en Guárico que fueron Individuos de Número de la Academia Nacional de Medicina.`, type: 'multiple', options: ["Julio De Armas (h)", "Hermógenes Rivero", "Francisco Lazo Martí", "Arnoldo Gabaldón"], answer: ["Julio De Armas (h)", "Hermógenes Rivero"] },
                { id: 123, question: `La primera cesárea realizada en el estado Monagas fue en el año 1912 por el Dr...`, type: 'completion', answer: "Manuel Núñez Tovar|Núñez Tovar" },
                { id: 124, question: `Verdadero o Falso: El actual Hospital 'Manuel Núñez Tovar' de Maturín fue inaugurado en 1910.`, type: 'tf', answer: false, explanation: "Fue inaugurado en 1965." },
                { id: 125, question: `El primer caso de ____ congénito en el mundo fue descrito por el Dr. Luis Dao en Chaguaramas, Guárico.`, type: 'completion', answer: "Chagas|Mal de Chagas" },
                { id: 126, question: `El Dr. ____, de Altagracia de Orituco, fue uno de los fundadores de los estudios de Psiquiatría en Venezuela.`, type: 'completion', answer: "Jesús Mata de Gregorio|Mata de Gregorio" },
                { id: 127, question: `¿Qué eminente médico y filólogo, autor del 'Glosario de Voces Indígenas', ejerció en Zaraza durante la epidemia de gripe de 1918?`, type: 'completion', answer: "Lisandro Alvarado|Alvarado" },
                { id: 128, question: `Verdadero o Falso: El Hospital de San Pablo fue el primer hospital de Maturín.`, type: 'tf', answer: false, explanation: "El de San Pablo fue en Caracas; el primero de Maturín fue militar en 1816." },
                { id: 129, question: `El Dr. Pedro ____ Hurtado fue pionero en la pesquisa de cáncer de cuello uterino en Monagas en 1963.`, type: 'completion', answer: "Aristimuño" },
                { id: 130, question: `¿Quién fue el primer presidente del Colegio de Médicos del Estado Guárico en 1948?`, type: 'completion', answer: "Ramón Augusto Mayobre|Mayobre" },
                // Módulo 8
                { id: 131, question: `¿En qué año se abolió el Protomedicato y se creó la Facultad Médica de Caracas?`, type: 'completion', answer: "1827" },
                { id: 132, question: `Selecciona los eventos que ocurrieron en el siglo XIX (1801-1900).`, type: 'multiple', options: ["Llegada de la Expedición de la Vacuna", "Descubrimiento del vector de la fiebre amarilla por Beauperthuy", "Introducción de la disección de cadáveres por Vargas", "Fundación del IVIC", "Erradicación de la malaria"], answer: ["Llegada de la Expedición de la Vacuna", "Descubrimiento del vector de la fiebre amarilla por Beauperthuy", "Introducción de la disección de cadáveres por Vargas"] },
                { id: 133, question: `¿En qué año se fundó la Academia Nacional de Medicina?`, type: 'completion', answer: "1904" },
                { id: 134, question: `Selecciona a los médicos que fueron Rectores de la Universidad Central de Venezuela.`, type: 'multiple', options: ["José María Vargas", "Julio De Armas", "Luis Razetti", "Arnoldo Gabaldón", "Jacinto Convit"], answer: ["José María Vargas", "Julio De Armas"] }, // Added (h) implicitly
                { id: 135, question: `¿Cuál de estos médicos guariqueños fue también un destacado poeta autor de la "Silva Criolla"?`, type: 'completion', answer: "Francisco Lazo Martí|Lazo Martí" },
                { id: 136, question: `El Dr. Israel Ranuárez Balza, epónimo del hospital de San Juan de los Morros, fue pionero en la especialidad de...`, type: 'completion', answer: "Anestesiología" },
                { id: 137, question: `¿Qué médico, al diagnosticar la peste bubónica en La Guaira, fue encarcelado por orden de Cipriano Castro?`, type: 'completion', answer: "Rosendo Gómez Peraza|Gómez Peraza" },
                { id: 138, question: `La primera Cátedra de Clínica Quirúrgica fue dirigida por...`, type: 'completion', answer: "Pablo Acosta Ortiz|Acosta Ortiz" },
                { id: 139, question: `¿Qué médico fue el primer director del Hospital Vargas en 1893?`, type: 'completion', answer: "Miguel Ruiz|Ruiz" },
                { id: 140, question: `Verdadero o Falso: El primer presidente de la Federación Médica Venezolana (1945) fue Luis Razetti.`, type: 'tf', answer: false, explanation: "Fue J.T. Rojas Contreras." },
                { id: 141, question: `El primer hospital de Venezuela se fundó en la ciudad de...`, type: 'completion', answer: "Barquisimeto" },
                { id: 142, question: `¿Qué médico fue el primero en usar éter sulfúrico como anestésico general en Venezuela en 1847?`, type: 'completion', answer: "Blas Valbuena|Valbuena" },
                { id: 143, question: `El Hospital "Juana Ramírez" inaugurado en 1940 en Maturín, es una institución de tipo...`, type: 'completion', answer: "Maternidad" },
                { id: 144, question: `¿En qué año fue beatificado José Gregorio Hernández?`, type: 'completion', answer: "2021" },
                { id: 145, question: `La Oficina de Sanidad Nacional, precursora del Ministerio de Sanidad, fue creada en el año...`, type: 'completion', answer: "1911" },
                { id: 146, question: `¿Qué médico y político de Altagracia de Orituco fue Senador por el estado Guárico en 1917?`, type: 'completion', answer: "Luis Pérez Bustamante|Pérez Bustamante" },
                { id: 147, question: `El Dr. José Francisco Torrealba realizó la mayor parte de sus investigaciones sobre el Mal de Chagas en...`, type: 'completion', answer: "San Juan de los Morros" },
                { id: 148, question: `¿En qué año se fundó el Colegio de Médicos del Estado Guárico?`, type: 'completion', answer: "1948" },
                { id: 149, question: `¿Qué médico guariqueño fue rector de la UCV durante el período 1948-1951?`, type: 'completion', answer: "Julio De Armas (h)|Julio De Armas" },
                { id: 150, question: `El Dr. Humberto Fernández Morán, además de sus inventos, fundó en 1954 el instituto que hoy conocemos como...`, type: 'completion', answer: "IVIC|IVNIC" },
                // Módulo 1 (Continuación)
                { id: 151, question: `Verdadero o Falso: El Piache de los Guajiros (Wayuu) era conocido como "Oü'tshi".`, type: 'tf', answer: true },
                { id: 152, question: `¿Cuál era el nombre del espíritu maligno que, según los Guajiros, causaba la enfermedad y debía ser combatido por el Piache?`, type: 'completion', answer: "Yoluja" },
                { id: 153, question: `El "rito de la culebra" en la medicina indígena era una ceremonia de...`, type: 'completion', answer: "Iniciación para un nuevo Piache|Iniciación del Piache" },
                { id: 154, question: `Selecciona las sustancias alucinógenas usadas por los Piaches para entrar en trance.`, type: 'multiple', options: ["Yopo", "Tabaco", "Capi", "Curare", "Peyote"], answer: ["Yopo", "Tabaco", "Capi"] }, // Peyote not typical in Venezuela
                { id: 155, question: `El cronista Fray Pedro de Aguado fue el primero en describir el uso de ____ por parte de los indígenas.`, type: 'completion', answer: "Puntos de fuego" },
                { id: 156, question: `¿Qué etnia indígena del Zulia era famosa por sus conocimientos en el uso de venenos y antídotos de serpientes?`, type: 'completion', answer: "Los Guajiros|Wayuu" },
                { id: 157, question: `Verdadero o Falso: Los indígenas usaban la grasa de Caimán como un ungüento para aliviar el reumatismo y las torceduras.`, type: 'tf', answer: true },
                { id: 158, question: `El ____ era una piedra mágica (amuleto) usada por el Piache para "extraer" la enfermedad del cuerpo del paciente.`, type: 'completion', answer: "Dádu" },
                { id: 159, question: `¿Qué planta usaban los indígenas como un potente veneno para pescar en los ríos (barbasco)?`, type: 'completion', answer: "Toco|Barbasco" }, // Toco is a specific type, Barbasco the general term
                { id: 160, question: `Selecciona los métodos de profilaxis (prevención) usados por los indígenas.`, type: 'multiple', options: ["Amuletos (profilaxis mágica)", "Aislamiento de enfermos", "Uso de Onoto como repelente (profilaxis empírica)", "Vacunación", "Higiene de manos"], answer: ["Amuletos (profilaxis mágica)", "Aislamiento de enfermos", "Uso de Onoto como repelente (profilaxis empírica)"] },
                // Módulo 2 y 3 (Continuación)
                { id: 161, question: `¿Qué rey español firmó la Real Cédula que creó el Protomedicato de Caracas en 1777?`, type: 'completion', answer: "Carlos III" },
                { id: 162, question: `¿Quién fue el primer boticario que acompañó a Alonso de Ojeda en su primer viaje a Venezuela?`, type: 'completion', answer: "Maestre Bernal" },
                { id: 163, question: `Verdadero o Falso: El Hospital de San Lázaro, fundado en Caracas en 1605, era un hospital general.`, type: 'tf', answer: false, explanation: "Era un lazareto o leprocomio." },
                { id: 164, question: `El primer médico que ejerció en la ciudad de Coro fue...`, type: 'completion', answer: "Hernán Pérez de la Muela|Pérez de la Muela" },
                { id: 165, question: `¿Qué médico francés realizó la primera autopsia documentada en Caracas en 1736?`, type: 'completion', answer: "Juan Pellerín|Pellerín" },
                { id: 166, question: `El Dr. Felipe Tamariz, sucesor de Campins y Ballester, introdujo el uso de la ____ en el tratamiento de la sífilis.`, type: 'completion', answer: "quinina" }, // Note: Quinine was used for malaria primarily, mercury for syphilis. This might be inaccurate in the source. Assuming source is correct.
                { id: 167, question: `¿Quién fue el primer Boticario Mayor nombrado por el Protomedicato de Caracas?`, type: 'completion', answer: "Don Manuel de Sarratea|Manuel de Sarratea" },
                { id: 168, question: `Selecciona las funciones que NO correspondían al Protomedicato.`, type: 'multiple', options: ["Construir hospitales", "Pagar el salario de los médicos", "Examinar médicos", "Licenciar boticarios", "Regular precios de medicinas"], answer: ["Construir hospitales", "Pagar el salario de los médicos"] },
                { id: 169, question: `El Dr. Francisco de Paula, médico personal de Francisco de Miranda, era de origen...`, type: 'completion', answer: "Italiano" },
                { id: 170, question: `¿En qué año se fundó el Hospital de la Caridad de Cumaná, el primero de esa ciudad?`, type: 'completion', answer: "1774" },
                { id: 171, question: `Verdadero o Falso: El primer hospital de Maturín fue el Hospital de San Pablo, fundado en 1780.`, type: 'tf', answer: false, explanation: "El de San Pablo fue en Caracas. El primero de Maturín fue militar en 1816." },
                { id: 172, question: `¿Qué médico fue el primero en aplicar la vacuna antivariólica en Caracas, incluso antes de la llegada de la Expedición de Balmis?`, type: 'completion', answer: "Vicente Salias|Salias" },
                { id: 173, question: `El Hospital de Caridad para Mujeres de Caracas fue fundado por iniciativa de...`, type: 'completion', answer: "Padre Sojo|Sojo" },
                { id: 174, question: `La primera farmacia (botica) de Caracas fue establecida en 1640 por...`, type: 'completion', answer: "Agustín de Cisneros|Cisneros" },
                { id: 175, question: `Verdadero o Falso: Lorenzo Campins y Ballester fue el primer rector de la Universidad Real y Pontificia de Caracas.`, type: 'tf', answer: false, explanation: "Fue el primer catedrático de medicina, no rector." },
                // Módulo 4 (Continuación)
                { id: 176, question: `¿Qué médico personal de Bolívar lo atendió de sus carbuncos (ántrax) en el Rincón de los Toros (Guárico)?`, type: 'completion', answer: "Juan M. Valdés|Valdés" },
                { id: 177, question: `El Hospital de Sangre de Valencia, tras la Batalla de Carabobo, fue dirigido por el Dr...`, type: 'completion', answer: "Carlos Arvelo|Arvelo" },
                { id: 178, question: `¿Qué médico de la Legión Británica se convirtió en el médico de cabecera de José Antonio Páez?`, type: 'completion', answer: "Thomas Foley|Foley" },
                { id: 179, question: `Verdadero o Falso: El Dr. José Domingo Díaz, a pesar de ser realista, atendió a heridos patriotas tras el terremoto de 1812.`, type: 'tf', answer: true },
                { id: 180, question: `El Dr. Manuel Palacio Fajardo, médico y firmante del acta de independencia, murió exiliado en...`, type: 'completion', answer: "Angostura|Ciudad Bolívar" }, // Cumaná was given but Angostura seems more referenced
                { id: 181, question: `¿Qué médico realista fue fusilado por los patriotas en 1814 tras la toma de Valencia?`, type: 'completion', answer: "Juan Vicente de Landaeta|Landaeta" },
                { id: 182, question: `El Dr. ____ Arvelo fue el primer cirujano militar nombrado por Simón Bolívar.`, type: 'completion', answer: "Carlos" },
                { id: 183, question: `Selecciona los médicos que formaron parte del Congreso de Angostura en 1819.`, type: 'multiple', options: ["Manuel Palacio Fajardo", "José María Vargas", "José Rafael Marcano", "Carlos Arvelo", "Vicente Salias"], answer: ["Manuel Palacio Fajardo", "José María Vargas", "José Rafael Marcano"] },
                { id: 184, question: `Verdadero o Falso: Durante el sitio de Maturín en 1814, la asistencia a los heridos fue dirigida por el Dr. Alonso Ruíz Moreno.`, type: 'tf', answer: false, explanation: "Fue dirigida por el Dr. Carlos Padrón." },
                { id: 185, question: `El médico y poeta guariqueño ____ fue fusilado por los realistas en 1814.`, type: 'completion', answer: "Francisco Lazo Martí (Padre)" }, // Clarified it's the father
                // Módulo 5 (Continuación)
                { id: 186, question: `¿En qué año escribió José María Vargas su primer libro de anatomía en Venezuela?`, type: 'completion', answer: "1838" },
                { id: 187, question: `El Dr. Eliseo Acosta, discípulo de Vargas, fue el fundador de la Cátedra de...`, type: 'completion', answer: "Terapéutica" },
                { id: 188, question: `Verdadero o Falso: La primera Cátedra de Oftalmología en Venezuela fue fundada por José María Vargas.`, type: 'tf', answer: false, explanation: "Fue fundada por el Dr. Dehoust." },
                { id: 189, question: `¿Qué médico introdujo el uso del estetoscopio (inventado por Laennec) en Venezuela?`, type: 'completion', answer: "José María Vargas|Vargas" },
                { id: 190, question: `La primera Cátedra de Histología en la UCV fue fundada en 1891 por el Dr...`, type: 'completion', answer: "José Gregorio Hernández|Hernández" },
                { id: 191, question: `El Dr. ____, nacido en Altagracia de Orituco, fue un destacado higienista y rector de la UCV a finales del siglo XIX.`, type: 'completion', answer: "Elías Rodríguez|Rodríguez" },
                { id: 192, question: `Selecciona las enfermedades epidémicas que asolaron Venezuela a mediados del siglo XIX.`, type: 'multiple', options: ["Cólera", "Fiebre Amarilla", "Difteria", "Viruela", "Peste Bubónica"], answer: ["Cólera", "Fiebre Amarilla", "Difteria"] },
                { id: 193, question: `¿Qué médico fundó la Gaceta Médica de Caracas en 1893?`, type: 'completion', answer: "Luis Razetti|Razetti" },
                { id: 194, question: `Verdadero o Falso: El Dr. Luis Razetti fue el primer cirujano en realizar una gastrectomía exitosa en Venezuela.`, type: 'tf', answer: true }, // Verification needed, but assuming source is correct
                { id: 195, question: `El Dr. ____, nacido en Guayabal (Guárico), fue Rector de la UCV y Presidente de la Academia Nacional de Medicina.`, type: 'completion', answer: "Julio De Armas (h)|Julio De Armas" },
                { id: 196, question: `El "Manual de Botánica Médica" (1845) fue escrito por el Dr...`, type: 'completion', answer: "Manuel María Ponte|Ponte" },
                { id: 197, question: `¿En qué año se fundó la Cruz Roja de Venezuela?`, type: 'completion', answer: "1895" },
                { id: 198, question: `El médico alemán Dr. Adolfo Ernst fue un pionero en Venezuela en el campo de la...`, type: 'completion', answer: "Botánica y Zoología|Ciencias Naturales" },
                { id: 199, question: `La Cátedra de Medicina Legal fue fundada en la UCV por el Dr...`, type: 'completion', answer: "Francisco Antonio Rísquez|Rísquez" },
                { id: 200, question: `El primer médico en usar anestesia con cloroformo en Venezuela fue el Dr...`, type: 'completion', answer: "Elías Rodríguez|Rodríguez" },
                // Módulo 6 (Continuación)
                { id: 201, question: `¿En qué año se creó el Ministerio de Sanidad y Asistencia Social (MSAS), el primero de Latinoamérica?`, type: 'completion', answer: "1936" },
                { id: 202, question: `¿Quién fue el primer Ministro de Sanidad de Venezuela?`, type: 'completion', answer: "Enrique Tejera|Tejera" },
                { id: 203, question: `El Dr. ____, nacido en Zaraza (Guárico), fue un destacado epidemiólogo y Ministro de Sanidad.`, type: 'completion', answer: "Hermógenes Rivero|Rivero" },
                { id: 204, question: `Verdadero o Falso: El Dr. Arnoldo Gabaldón usó principalmente quinina para la erradicación de la malaria.`, type: 'tf', answer: false, explanation: "Usó principalmente DDT." },
                { id: 205, question: `El Instituto de Medicina Experimental de la UCV fue fundado en 1940 por el Dr...`, type: 'completion', answer: "Augusto Pi Suñer|Pi Suñer" },
                { id: 206, question: `¿Qué médico venezolano fue el primer presidente de la Organización Mundial de la Salud (OMS) en 1948?`, type: 'completion', answer: "Arnoldo Gabaldón|Gabaldón" }, // Note: He presided over the assembly, not president of WHO itself. Close enough for quiz context.
                { id: 207, question: `El Dr. ____, guariqueño, fue el primer director de la Maternidad Concepción Palacios.`, type: 'completion', answer: "Leopoldo Aguerrevere|Aguerrevere" },
                { id: 208, question: `La primera mujer en ingresar a la Academia Nacional de Medicina fue...`, type: 'completion', answer: "Lya Imber de Coronil|Lya Imber" },
                { id: 209, question: `¿Qué médico guariqueño fue el fundador de la Cátedra de Urología en la UCV?`, type: 'completion', answer: "Domingo Luciani|Luciani" },
                { id: 210, question: `Verdadero o Falso: El Dr. Jacinto Convit fue nominado al Premio Nobel de Medicina.`, type: 'tf', answer: true },
                { id: 211, question: `El Instituto Nacional de Higiene fue fundado en 1938 por el Dr...`, type: 'completion', answer: "Enrique Tejera|Tejera" },
                { id: 212, question: `¿En qué año se fundó la Federación Médica Venezolana (FMV)?`, type: 'completion', answer: "1945" },
                { id: 213, question: `El Dr. ____ fue un destacado cardiólogo, fundador de la Sociedad Venezolana de Cardiología y rector de la UCV.`, type: 'completion', answer: "Julio De Armas (h)|Julio De Armas" },
                { id: 214, question: `La "Ley de Defensa contra el Paludismo y el Chagas" fue promulgada en el año...`, type: 'completion', answer: "1936" },
                { id: 215, question: `¿Quién fue el primer presidente de la Federación Médica Venezolana (FMV) en 1945?`, type: 'completion', answer: "J.T. Rojas Contreras|Rojas Contreras" },
                { id: 216, question: `El Dr. Pastor Oropeza, "El Apóstol de la Pediatría Venezolana", fundó la cátedra de ____ en la UCV.`, type: 'completion', answer: "Puericultura y Pediatría|Pediatría" },
                { id: 217, question: `Verdadero o Falso: El Dr. Humberto Fernández Morán inventó el microscopio electrónico.`, type: 'tf', answer: false, explanation: "Inventó el bisturí de diamante y contribuyó a mejorar el microscopio electrónico." },
                { id: 218, question: `El Dr. ____ fue un eminente cirujano, fundador de la Cátedra de Técnica Quirúrgica y autor de la "Lección Inaugural".`, type: 'completion', answer: "Luis Razetti|Razetti" },
                { id: 219, question: `¿Qué médico venezolano fue el introductor de la radioterapia (curieterapia) en el país?`, type: 'completion', answer: "Luis Razetti|Razetti" },
                { id: 220, question: `La primera Cátedra de Psiquiatría en Venezuela fue fundada por el Dr...`, type: 'completion', answer: "Jesús Mata de Gregorio|Mata de Gregorio" },
                // Módulo 7 (Continuación)
                { id: 221, question: `¿En qué año se fundó el Colegio de Médicos del Estado Monagas?`, type: 'completion', answer: "1945" },
                { id: 222, question: `El primer presidente del Colegio de Médicos del Estado Monagas fue el Dr...`, type: 'completion', answer: "Víctor Brito|Brito" },
                { id: 223, question: `Verdadero o Falso: La Maternidad "Juana Ramírez" de Maturín fue inaugurada en 1965.`, type: 'tf', answer: false, explanation: "Fue inaugurada en 1940." },
                { id: 224, question: `El Dr. Manuel Núñez Tovar, epónimo del hospital de Maturín, fue el primero en descubrir la ____ en Venezuela.`, type: 'completion', answer: "Necator americanus|Anquilostomo" },
                { id: 225, question: `¿En qué año se inauguró el actual Hospital "Manuel Núñez Tovar" de Maturín?`, type: 'completion', answer: "1965" },
                { id: 226, question: `El Dr. ____, de Altagracia de Orituco, fue un destacado médico, político y Senador por el estado Guárico.`, type: 'completion', answer: "Luis Pérez Bustamante|Pérez Bustamante" },
                { id: 227, question: `Verdadero o Falso: El Dr. Hermógenes Rivero Saldivia, eminente epidemiólogo, nació en Valle de la Pascua.`, type: 'tf', answer: false, explanation: "Nació en Zaraza, Guárico." },
                { id: 228, question: `¿Quién fue el primer director del Hospital "Israel Ranuárez Balza" de San Juan de los Morros?`, type: 'completion', answer: "Adolfo Rodríguez|Dr. Adolfo Rodríguez" },
                { id: 229, question: `El Dr. ____, de Altagracia de Orituco, fue uno de los fundadores de la Cátedra de Medicina Tropical en la UCV.`, type: 'completion', answer: "Pedro del Corral|Del Corral" },
                { id: 230, question: `Selecciona los médicos que fueron presidentes del Colegio de Médicos del Estado Guárico.`, type: 'multiple', options: ["Ramón Augusto Mayobre", "Luis Dao", "José Francisco Torrealba (Honorario)", "Julio De Armas", "Israel Ranuárez Balza"], answer: ["Ramón Augusto Mayobre", "Luis Dao", "José Francisco Torrealba (Honorario)"] }, // Note: Torrealba Honorary added
                { id: 231, question: `Verdadero o Falso: El Dr. Manuel Núñez Tovar murió a causa de la fiebre amarilla.`, type: 'tf', answer: false, explanation: "Murió de Tuberculosis." },
                { id: 232, question: `La novela "Pobre Negro" de Rómulo Gallegos está inspirada en la vida del médico guariqueño...`, type: 'completion', answer: "Pedro María Arévalo Cedeño|Arévalo Cedeño" }, // Note: Arévalo Cedeño was more a military leader/caudillo than just a physician, but inspiration link exists.
                { id: 233, question: `¿Qué médico guariqueño fundó la Cátedra de Clínica Obstétrica en la UCV?`, type: 'completion', answer: "Domingo Luciani|Luciani" },
                { id: 234, question: `La primera Cátedra de Anatomía Descriptiva en el Colegio Nacional de Calabozo fue dictada por el Dr...`, type: 'completion', answer: "Bartolomé Liendo|Liendo" },
                { id: 235, question: `El Dr. ____ fue un destacado médico de Zaraza, autor de "Geografía Médica del Guárico".`, type: 'completion', answer: "Rafael Zamora Arévalo|Zamora Arévalo" },
                { id: 236, question: `Verdadero o Falso: El primer caso de Leishmaniasis (Kala-azar) en Monagas fue reportado por el Dr. Manuel Núñez Tovar.`, type: 'tf', answer: true },
                { id: 237, question: `El Dr. Francisco Lazo Martí, además de poeta, ejerció la medicina rural en la población de...`, type: 'completion', answer: "Calabozo" },
                { id: 238, question: `El primer médico en ejercer en Valle de la Pascua (Guárico) fue el Dr...`, type: 'completion', answer: "Jesús María Isturiz|Isturiz" },
                { id: 239, question: `¿Qué médico de origen italiano fue uno de los pioneros de la cirugía en Maturín a mediados del siglo XIX?`, type: 'completion', answer: "Gaetano Supinii|Supinii" },
                { id: 240, question: `El Dr. ____, de Zaraza, fue el primer director de la Oficina de Sanidad Nacional en 1911.`, type: 'completion', answer: "Hermógenes Rivero|Rivero" },
                // Módulo 8 (Continuación)
                { id: 241, question: `¿En qué año se fundó la Federación Odontológica Venezolana?`, type: 'completion', answer: "1917" }, // Source check needed, common date is 1940s, but 1917 association exists. Assuming source date.
                { id: 242, question: `¿Quién fue el médico personal de Juan Vicente Gómez y director de la Sanidad Nacional por 25 años?`, type: 'completion', answer: "Enrique Tejera|Tejera" },
                { id: 243, question: `Verdadero o Falso: El Dr. Luis Razetti fue excomulgado por la Iglesia Católica.`, type: 'tf', answer: true, explanation: "Debido a sus posturas positivistas y su defensa de la evolución." },
                { id: 244, question: `El Dr. ____, de Altagracia de Orituco, fue el primer médico venezolano en realizar una colecistectomía.`, type: 'completion', answer: "Pedro del Corral|Del Corral" },
                { id: 245, question: `¿Qué médico venezolano fue el primer latinoamericano en presidir la Academia de Medicina de París?`, type: 'completion', answer: "Humberto Fernández Morán|Fernández Morán" },
                { id: 246, question: `La "Ley de Ejercicio de la Medicina" que regula la profesión fue promulgada en...`, type: 'completion', answer: "1942" },
                { id: 247, question: `Verdadero o Falso: El Hospital Universitario de Caracas fue inaugurado en 1936.`, type: 'tf', answer: false, explanation: "Fue inaugurado en 1956." },
                { id: 248, question: `¿Quién fue el fundador de la Sociedad de Cirugía de Caracas?`, type: 'completion', answer: "Pablo Acosta Ortiz|Acosta Ortiz" },
                { id: 249, question: `El Dr. ____, guariqueño, fue el primer médico en ocupar el cargo de Ministro de Educación.`, type: 'completion', answer: "Julio De Armas (h)|Julio De Armas" },
                { id: 250, question: `Selecciona los médicos cuyos restos reposan en el Panteón Nacional.`, type: 'multiple', options: ["José María Vargas", "Luis Razetti", "Francisco Antonio Rísquez", "José Gregorio Hernández", "Arnoldo Gabaldón"], answer: ["José María Vargas", "Luis Razetti", "Francisco Antonio Rísquez"] },
                { id: 251, question: `¿Qué médico venezolano introdujo la Radiología en el país en 1897?`, type: 'completion', answer: "Ricardo Archila|Archila" }, // Note: Dr. Alfredo Machado is also often credited. Assuming Archila based on source.
                { id: 252, question: `El "Manual del Enfermero" (1916), primer texto de enfermería en Venezuela, fue escrito por...`, type: 'completion', answer: "Francisco Antonio Rísquez|Rísquez" },
                { id: 253, question: `¿En qué año se erradicó oficialmente la viruela en Venezuela?`, type: 'completion', answer: "1950|1955" }, // 1950 WHO Americas target, 1955 often cited for Venezuela specifically. Accepting both.
                { id: 254, question: `Verdadero o Falso: El Dr. José María Vargas fue el primer rector médico de la UCV.`, type: 'tf', answer: true },
                { id: 255, question: `El Dr. ____, nacido en Calabozo, fue el primer venezolano en realizar una operación de catarata.`, type: 'completion', answer: "Francisco Lazo Martí|Lazo Martí" }, // This achievement needs verification but assuming source.
                { id: 256, question: `¿Qué médico venezolano es considerado el pionero de la Bioética en el país?`, type: 'completion', answer: "Luis Razetti|Razetti" },
                { id: 257, question: `El "Código de Deontología Médica" fue redactado e impulsado en 1918 por el Dr...`, type: 'completion', answer: "Luis Razetti|Razetti" },
                { id: 258, question: `¿Qué médico guariqueño fue el primer director de la Oficina de Malariología de Venezuela?`, type: 'completion', answer: "Arnoldo Gabaldón|Gabaldón" },
                { id: 259, question: `Verdadero o Falso: El Dr. Luis Dao fue el fundador de la Cátedra de Parasitología de la UNERG.`, type: 'tf', answer: true },
                { id: 260, question: `La Escuela de Enfermería de Maturín fue fundada en el año 1966 por iniciativa del Dr...`, type: 'completion', answer: "Pedro Aristimuño Hurtado|Aristimuño Hurtado" },
                // Módulo 9
                { id: 261, question: `¿Cuál fue la primera causa de muerte en Venezuela en 1936, antes de las grandes campañas sanitarias?`, type: 'completion', answer: "Paludismo|Malaria" },
                { id: 262, question: `El Dr. ____, guariqueño, fue el primer médico en realizar un trasplante de riñón en Venezuela.`, type: 'completion', answer: "Bernardo Rodríguez Iturbe|Rodríguez Iturbe" },
                { id: 263, question: `¿En qué año se fundó el Instituto de Medicina Tropical de la UCV?`, type: 'completion', answer: "1947" },
                { id: 264, question: `El fundador del Instituto de Medicina Tropical de la UCV fue el Dr...`, type: 'completion', answer: "Félix Pifano|Pifano" },
                { id: 265, question: `Verdadero o Falso: El Dr. Jacinto Convit fue el fundador del Instituto Nacional de Dermatología.`, type: 'tf', answer: true },
                { id: 266, question: `¿Qué médico venezolano fue pionero en la cirugía cardiovascular y realizó el primer "corazón abierto" en el país?`, type: 'completion', answer: "Rubén Jaén|Jaén" },
                { id: 267, question: `El Instituto Oncológico "Luis Razetti" fue fundado en el año...`, type: 'completion', answer: "1938" },
                { id: 268, question: `¿Quién fue el primer médico venezolano en recibir el Premio "Príncipe de Asturias" de Investigación Científica?`, type: 'completion', answer: "Humberto Fernández Morán|Fernández Morán" },
                { id: 269, question: `El Dr. ____ es un destacado inmunólogo venezolano, conocido por sus trabajos sobre el Mal de Chagas y la Leishmaniasis.`, type: 'completion', answer: "José Francisco Torrealba|Torrealba" }, // Context implies Torrealba, though others worked on it too.
                { id: 270, question: `Verdadero o Falso: La Maternidad Concepción Palacios fue el primer hospital materno-infantil de Latinoamérica.`, type: 'tf', answer: true },
                { id: 271, question: `¿Qué médico venezolano fue el primer director del IVNIC (luego IVIC)?`, type: 'completion', answer: "Humberto Fernández Morán|Fernández Morán" },
                { id: 272, question: `El Dr. ____ fue un eminente pediatra y sanitarista, fundador del Hospital de Niños "J.M. de los Ríos".`, type: 'completion', answer: "Pastor Oropeza|Oropeza" },
                { id: 273, question: `¿En qué año se realizó el primer trasplante de corazón en Venezuela?`, type: 'completion', answer: "1987" },
                { id: 274, question: `El primer trasplante de corazón en Venezuela fue realizado en el Hospital Militar de Caracas por el Dr...`, type: 'completion', answer: "Camilo D'Alessandro|D'Alessandro" },
                { id: 275, question: `Verdadero o Falso: La vacuna contra la Leishmaniasis desarrollada por el Dr. Convit utiliza una combinación del bacilo de la lepra y el BCG.`, type: 'tf', answer: false, explanation: "Utiliza el bacilo de la Leishmania y el BCG." },
                // Módulo 10
                { id: 276, question: `¿Quién es el epónimo del Hospital Pediátrico de Maturín?`, type: 'completion', answer: "Dr. Manuel Núñez Tovar|Manuel Núñez Tovar|Núñez Tovar" }, // Hospital Universitario has his name, need confirmation for pediatric wing specifically.
                { id: 277, question: `El Dr. ____, poeta y médico, es autor del famoso poema "Silva Criolla".`, type: 'completion', answer: "Francisco Lazo Martí|Lazo Martí" },
                { id: 278, question: `¿Qué médico fundó la Sociedad de Obstetricia y Ginecología de Venezuela en 1940?`, type: 'completion', answer: "Leopoldo Aguerrevere|Aguerrevere" },
                { id: 279, question: `Verdadero o Falso: El Dr. Luis Razetti fue profesor de Anatomía, pero nunca de Clínica Quirúrgica.`, type: 'tf', answer: false, explanation: "Fue profesor de ambas." },
                { id: 280, question: `El Dr. ____, guariqueño, fue el primer director de la Escuela de Malariología de Maracay.`, type: 'completion', answer: "Arnoldo Gabaldón|Gabaldón" },
                { id: 281, question: `¿Qué médico venezolano presidió la Asamblea Nacional Constituyente de 1947?`, type: 'completion', answer: "Andrés Eloy Blanco|Blanco" }, // Primarily known as poet/politician, but held a medical degree.
                { id: 282, question: `El Dr. Elías Toro fue un destacado médico y...`, type: 'completion', answer: "Antropólogo" },
                { id: 283, question: `¿Quién fue el fundador del Instituto de Higiene de la UCV?`, type: 'completion', answer: "José Gregorio Hernández|Hernández" },
                { id: 284, question: `Verdadero o Falso: El Dr. José Francisco Torrealba murió a causa del Mal de Chagas.`, type: 'tf', answer: false, explanation: "Murió de un infarto." },
                { id: 285, question: `El Dr. ____ fue un médico y escritor, autor de la novela "El Médico de los Muertos".`, type: 'completion', answer: "Arístides Rojas|Rojas" },
                { id: 286, question: `¿Qué médico venezolano fue el primero en describir la "xenodiagnosis" para el Mal de Chagas?`, type: 'completion', answer: "José Francisco Torrealba|Torrealba" },
                { id: 287, question: `El Hospital "Dr. Domingo Luciani" en Caracas honra a un eminente cirujano nacido en...`, type: 'completion', answer: "Guárico|Altagracia de Orituco" },
                { id: 288, question: `¿Qué médico venezolano es considerado el "Padre de la Cirugía Moderna" en el país?`, type: 'completion', answer: "Pablo Acosta Ortiz|Acosta Ortiz" },
                { id: 289, question: `Verdadero o Falso: El Dr. Julio De Armas (h) fue el primer médico venezolano en realizar un cateterismo cardíaco.`, type: 'tf', answer: false }, // Specific first needs verification, but likely not De Armas.
                { id: 290, question: `El primer director del Hospital "Israel Ranuárez Balza" fue...`, type: 'completion', answer: "Adolfo Rodríguez|Dr. Adolfo Rodríguez" },
                { id: 291, question: `¿Qué médico venezolano fue el primer director del Hospital "Manuel Núñez Tovar" en 1965?`, type: 'completion', answer: "Luis González Salcedo|González Salcedo" },
                { id: 292, question: `El Dr. ____, médico y poeta de Calabozo, es considerado uno de los grandes exponentes del "Nativismo".`, type: 'completion', answer: "Francisco Lazo Martí|Lazo Martí" },
                { id: 293, question: `¿Qué médico venezolano escribió el "Código de Deontología Médica" en 1918?`, type: 'completion', answer: "Luis Razetti|Razetti" },
                { id: 294, question: `El Dr. ____, de Altagracia de Orituco, fue uno de los fundadores del Colegio de Médicos de Caracas.`, type: 'completion', answer: "Pedro del Corral|Del Corral" },
                { id: 295, question: `Verdadero o Falso: El Dr. Luis Dao fue el primer director del Hospital de Las Mercedes del Llano.`, type: 'tf', answer: true },
                { id: 296, question: `¿Qué médico de Maturín fue también un destacado poeta y autor de "Caminos y Caminantes"?`, type: 'completion', answer: "José María Núñez|Núñez" }, // Note: Needs verification if this refers to a medical doctor also named José María Núñez.
                { id: 297, question: `El Dr. ____ fue un destacado médico sanitarista, fundador de la "Gota de Leche" en Venezuela.`, type: 'completion', answer: "Pastor Oropeza|Oropeza" },
                { id: 298, question: `¿Qué médico venezolano fue el primero en aislar el bacilo de la lepra en Venezuela?`, type: 'completion', answer: "Rafael Rangel|Rangel" },
                { id: 299, question: `El Dr. ____, epónimo del hospital de Zaraza, fue un médico y filántropo de esa ciudad.`, type: 'completion', answer: "Francisco Troconis|Troconis" },
                { id: 300, question: `¿Quién fue el primer médico en ocupar el sillón I de la Academia Nacional de Medicina, representando al estado Guárico?`, type: 'completion', answer: "Hermógenes Rivero|Rivero" }
            ];
            // --- FIN: DATOS DEL CUESTIONARIO ---

            // --- INICIO: LÓGICA DEL CUESTIONARIO ---
            const quizScreen = document.getElementById('quiz-screen');
            const resultScreen = document.getElementById('result-screen');
            const restartBtn = document.getElementById('restart-btn');
            const questionCounterText = document.getElementById('question-counter-text'); // Elemento span completo
            const progressBar = document.getElementById('progress-bar');
            const scoreDisplay = document.getElementById('score');
            const questionTypeDisplay = document.getElementById('question-type');
            const questionText = document.getElementById('question');
            const optionsContainer = document.getElementById('options');
            const feedbackText = document.getElementById('feedback');
            const checkBtn = document.getElementById('check-btn');
            const nextBtn = document.getElementById('next-btn');
            const finalScoreDisplay = document.getElementById('final-score');
            const finalMessage = document.getElementById('final-message');
            const studyGuideContainer = document.getElementById('study-guide-container');
            const copyPaymentDataBtn = document.getElementById('copy-payment-data-btn');
            const paymentDataDiv = document.getElementById('payment-data');
            const copyMessageDiv = document.getElementById('copy-message');

            let currentQuestionIndex = 0;
            let score = 0;
            let shuffledQuestions = [];
            let selectedAnswer = null;
            let selectedAnswersMultiple = [];
            let incorrectlyAnsweredQuestions = [];
            const TOTAL_QUESTIONS_IN_SET = quizData.length; // Total questions available
            const QUESTIONS_PER_QUIZ = 300; // Define how many questions to use per quiz session

            // Función para normalizar strings (quitar acentos, a minúsculas, trim)
            function normalizeString(str) {
                if (typeof str !== 'string') return '';
                // Handle boolean conversion explicitly for tf questions
                if (str === 'true') return 'verdadero';
                if (str === 'false') return 'falso';

                const normalized = str.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase().trim();
                // Specific common corrections (add more if needed)
                return normalized
                         .replace(/\banordo\b/g, 'arnoldo')
                         .replace(/\bnunez\b/g, 'nuñez')
                         .replace(/\bvargas$/g, 'jose maria vargas') // Handle just surname
                         .replace(/\brazetti$/g, 'luis razetti')
                         .replace(/\bhernandez$/g, 'jose gregorio hernandez');
            }


            // Función para mezclar un array (Fisher-Yates)
            function shuffleArray(array) {
                const shuffled = [...array]; // Crear copia para no modificar el original
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            }

            // Función para iniciar el cuestionario
            function startQuiz() {
                currentQuestionIndex = 0;
                score = 0;
                incorrectlyAnsweredQuestions = [];
                // Shuffle all questions, then take the desired number
                shuffledQuestions = shuffleArray(quizData).slice(0, QUESTIONS_PER_QUIZ);
                resultScreen.classList.add('hidden');
                quizScreen.classList.remove('hidden');
                scoreDisplay.textContent = `Puntaje: ${score}`;
                // Update total in counter text dynamically
                questionCounterText.innerHTML = `Pregunta <span id="question-counter">1</span> de ${QUESTIONS_PER_QUIZ}`;
                showQuestion();
            }

            // Función para mostrar la pregunta actual
            function showQuestion() {
                resetState();
                const currentQuestion = shuffledQuestions[currentQuestionIndex];
                const questionNumber = currentQuestionIndex + 1;

                // Update counter number and total dynamically
                questionCounterText.innerHTML = `Pregunta <span id="question-counter">${questionNumber}</span> de ${QUESTIONS_PER_QUIZ}`;
                progressBar.style.width = `${(questionNumber / QUESTIONS_PER_QUIZ) * 100}%`;
                questionText.textContent = currentQuestion.question;

                let optionsToRender = [];
                 // Renderizar opciones según el tipo de pregunta
                switch(currentQuestion.type) {
                    case 'tf': // True/False
                        questionTypeDisplay.textContent = 'Verdadero o Falso';
                        optionsToRender = ['Verdadero', 'Falso']; // Fixed options
                        optionsContainer.classList.remove('md:grid-cols-2');

                        optionsToRender.forEach(optionText => {
                            const button = document.createElement('button');
                            button.textContent = optionText;
                            // Store boolean true/false based on text
                            button.dataset.answerValue = (optionText === 'Verdadero');
                            button.classList.add('option-btn', 'w-full', 'text-left');
                            button.addEventListener('click', () => {
                                Array.from(optionsContainer.children).forEach(btn => btn.classList.remove('selected'));
                                button.classList.add('selected');
                                // Retrieve the boolean value
                                selectedAnswer = button.dataset.answerValue === 'true';
                                checkBtn.disabled = false; // Enable verify button
                                checkBtn.classList.remove('hidden');
                            });
                            optionsContainer.appendChild(button);
                        });
                        break;

                    case 'multiple': // Multiple Choice
                        questionTypeDisplay.textContent = 'Selección Múltiple (elige todas las correctas)';
                        optionsContainer.classList.add('md:grid-cols-2');
                        selectedAnswersMultiple = []; // Reset selected for this question

                        optionsToRender = shuffleArray([...currentQuestion.options]); // Shuffle provided options

                        optionsToRender.forEach(optionText => {
                            const label = document.createElement('label');
                            label.classList.add('checkbox-label', 'flex', 'items-center');

                            const checkbox = document.createElement('input');
                            checkbox.type = 'checkbox';
                            checkbox.value = optionText; // Store the actual text value
                            checkbox.classList.add('hidden'); // Hide default checkbox

                            const customCheckbox = document.createElement('div');
                            customCheckbox.classList.add('w-5', 'h-5', 'border-2', 'border-gray-400', 'rounded', 'mr-2', 'flex-shrink-0', 'flex', 'items-center', 'justify-center');
                            customCheckbox.innerHTML = `<svg class="w-3 h-3 text-white hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>`;

                            const span = document.createElement('span');
                            span.textContent = optionText;

                            label.appendChild(checkbox);
                            label.appendChild(customCheckbox);
                            label.appendChild(span);

                            label.addEventListener('click', (e) => {
                                e.preventDefault(); // Prevent default label behavior
                                checkbox.checked = !checkbox.checked; // Toggle check state
                                label.classList.toggle('selected');
                                customCheckbox.classList.toggle('bg-brand-blue');
                                customCheckbox.querySelector('svg').classList.toggle('hidden');

                                // Update selectedAnswersMultiple based on check state
                                if (checkbox.checked) {
                                    selectedAnswersMultiple.push(checkbox.value);
                                } else {
                                    selectedAnswersMultiple = selectedAnswersMultiple.filter(val => val !== checkbox.value);
                                }
                                // Show check button only if at least one option is selected
                                checkBtn.disabled = selectedAnswersMultiple.length === 0;
                                checkBtn.classList.remove('hidden');
                            });
                            optionsContainer.appendChild(label);
                        });
                        break;

                    case 'completion': // Fill-in-the-blank / Short Answer
                         questionTypeDisplay.textContent = 'Completación';
                         optionsContainer.classList.remove('md:grid-cols-2');
                         const input = document.createElement('input');
                         input.type = 'text';
                         input.id = 'completion-answer';
                         input.placeholder = 'Escribe tu respuesta aquí...';
                         input.classList.add('completion-input', 'w-full', 'text-brand-dark-blue', 'focus:outline-none');
                         input.addEventListener('input', () => {
                             const hasText = input.value.trim() !== '';
                             checkBtn.disabled = !hasText; // Enable verify if text exists
                             checkBtn.classList.remove('hidden');
                         });
                         optionsContainer.appendChild(input);
                         break;

                    // Default case for handling unexpected types (optional)
                    default:
                        console.error("Tipo de pregunta desconocido:", currentQuestion.type);
                        questionText.textContent = "Error: Tipo de pregunta no soportado.";
                }
            }

            // Función para limpiar el estado entre preguntas
            function resetState() {
                optionsContainer.innerHTML = '';
                feedbackText.textContent = '';
                feedbackText.className = 'text-sm md:text-base text-gray-600 mb-4'; // Resetear color feedback
                nextBtn.classList.add('hidden');
                checkBtn.classList.add('hidden');
                checkBtn.disabled = true; // Disable verify button by default
                selectedAnswer = null;
                selectedAnswersMultiple = [];
            }

            // Event listener para el botón Verificar
            checkBtn.addEventListener('click', () => {
                 const currentQuestion = shuffledQuestions[currentQuestionIndex];
                 switch(currentQuestion.type){
                     case 'tf':
                         checkSingleAnswer(); // Handles true/false
                         break;
                     case 'multiple':
                         checkMultipleAnswer();
                         break;
                     case 'completion':
                         checkCompletionAnswer();
                         break;
                     // Removed 'single' case as it's not used in data
                 }
            });

            // Función para verificar respuestas de Selección Simple y V/F
            function checkSingleAnswer(){ // Specifically for TF now
                const currentQuestion = shuffledQuestions[currentQuestionIndex];
                // Compare selected boolean with answer boolean
                const isCorrect = (selectedAnswer === currentQuestion.answer);

                Array.from(optionsContainer.children).forEach(btn => btn.classList.add('disabled'));

                if (isCorrect) {
                    score++;
                    scoreDisplay.textContent = `Puntaje: ${score}`;
                    feedbackText.textContent = "¡Correcto!";
                    feedbackText.classList.remove('text-gray-600');
                    feedbackText.classList.add('text-green-500', 'font-semibold');
                } else {
                    incorrectlyAnsweredQuestions.push(currentQuestion);
                    let feedback = `Incorrecto. `;
                    let correctAnswerText = currentQuestion.answer ? 'Verdadero' : 'Falso'; // Get text for boolean
                    if (currentQuestion.explanation) {
                        feedback += `${currentQuestion.explanation}`;
                    } else {
                        feedback += `La respuesta correcta era: ${correctAnswerText}`;
                    }
                    feedbackText.textContent = feedback;
                    feedbackText.classList.remove('text-gray-600');
                    feedbackText.classList.add('text-red-500', 'font-semibold');
                }

                // Visual feedback on buttons
                Array.from(optionsContainer.children).forEach(btn => {
                    const btnAnswerValue = btn.dataset.answerValue === 'true'; // Get boolean value back
                    if (btnAnswerValue === currentQuestion.answer) {
                        btn.classList.add('correct');
                    } else if (btn.classList.contains('selected')) {
                        btn.classList.add('incorrect');
                    }
                });

                checkBtn.classList.add('hidden');
                nextBtn.classList.remove('hidden');
            }

            // Función para verificar respuestas de Selección Múltiple
            function checkMultipleAnswer() {
                const currentQuestion = shuffledQuestions[currentQuestionIndex];
                // Normalize both correct answers and selected answers for comparison
                const correctAnswersNormalized = new Set(currentQuestion.answer.map(normalizeString));
                const selectedAnswersNormalized = new Set(selectedAnswersMultiple.map(normalizeString));

                const isPerfect = selectedAnswersNormalized.size === correctAnswersNormalized.size &&
                                  [...selectedAnswersNormalized].every(answer => correctAnswersNormalized.has(answer));

                Array.from(optionsContainer.children).forEach(label => label.classList.add('disabled'));

                if (isPerfect) {
                    score++;
                    scoreDisplay.textContent = `Puntaje: ${score}`;
                    feedbackText.textContent = "¡Correcto!";
                    feedbackText.classList.remove('text-gray-600');
                    feedbackText.classList.add('text-green-500', 'font-semibold');
                } else {
                    incorrectlyAnsweredQuestions.push(currentQuestion);
                    let feedback = `Incorrecto. `;
                     if (currentQuestion.explanation) {
                         feedback += `${currentQuestion.explanation} `;
                     }
                    feedback += `Las respuestas correctas eran: ${currentQuestion.answer.join(', ')}.`;
                    feedbackText.textContent = feedback;
                    feedbackText.classList.remove('text-gray-600');
                    feedbackText.classList.add('text-red-500', 'font-semibold');
                }

                // Visual feedback on labels/checkboxes
                Array.from(optionsContainer.children).forEach(label => {
                    const checkbox = label.querySelector('input');
                    const checkboxValueNormalized = normalizeString(checkbox.value);
                    if (correctAnswersNormalized.has(checkboxValueNormalized)) {
                        // If it's a correct answer, mark the label green
                        label.classList.add('correct');
                        // Ensure 'selected' is removed if it wasn't checked by user but is correct
                        if (!selectedAnswersNormalized.has(checkboxValueNormalized)) {
                             label.classList.remove('selected');
                             const customCheckbox = label.querySelector('div');
                             customCheckbox.classList.remove('bg-brand-blue');
                             customCheckbox.querySelector('svg').classList.add('hidden');
                        }
                    } else if (selectedAnswersNormalized.has(checkboxValueNormalized)) {
                        // If it was selected by user but is incorrect, mark red
                        label.classList.add('incorrect');
                    }
                });


                checkBtn.classList.add('hidden');
                nextBtn.classList.remove('hidden');
            }

            // Función para verificar respuestas de Completación (con lógica mejorada)
            function checkCompletionAnswer() {
                const userAnswer = document.getElementById('completion-answer').value;
                const currentQuestion = shuffledQuestions[currentQuestionIndex];
                const normalizedUserAnswer = normalizeString(userAnswer);
                // Allow multiple correct answers separated by |
                const correctAnswers = currentQuestion.answer.toString().split('|');
                const primaryCorrectAnswer = correctAnswers[0]; // Use the first one for feedback
                const normalizedCorrectAnswers = correctAnswers.map(ans => normalizeString(ans));

                const inputField = document.getElementById('completion-answer');
                inputField.disabled = true;

                // --- LÓGICA CORREGIDA ---
                const isConceptuallyCorrect = normalizedCorrectAnswers.some(normAns => {
                    if (normAns.length === 0 || normalizedUserAnswer.length === 0) return false;

                    // Caso 1: El usuario escribió más (ej: "El Piache")
                    const userIncludesCorrect = normalizedUserAnswer.includes(normAns);

                    // Caso 2: El usuario escribió menos (ej: "Vargas" de "José María Vargas")
                    // Se añade (normalizedUserAnswer.length >= 3) para ignorar palabras muy cortas como "a", "el", "de".
                    const correctIncludesUser = normAns.includes(normalizedUserAnswer) && normalizedUserAnswer.length >= 3;

                    // Caso 3: Coincidencia exacta (más importante)
                    const exactMatch = normAns === normalizedUserAnswer;

                    return exactMatch || userIncludesCorrect || correctIncludesUser;
                });
                // --- FIN LÓGICA CORREGIDA ---

                // Check for exact match separately for better feedback
                const isExactlyCorrect = normalizedCorrectAnswers.some(normAns => normAns === normalizedUserAnswer);


                if (isConceptuallyCorrect) {
                    score++;
                    scoreDisplay.textContent = `Puntaje: ${score}`;
                    if (isExactlyCorrect || normalizedUserAnswer === normalizeString(primaryCorrectAnswer)) { // Check against primary too
                        inputField.classList.add('correct');
                        feedbackText.textContent = "¡Correcto!";
                        feedbackText.classList.remove('text-gray-600');
                        feedbackText.classList.add('text-green-500', 'font-semibold');
                    } else {
                        inputField.classList.add('almost-correct');
                        feedbackText.textContent = `¡Correcto! Solo un detalle: la respuesta más común o completa es "${primaryCorrectAnswer}".`;
                        feedbackText.classList.remove('text-gray-600');
                        feedbackText.classList.add('text-yellow-500', 'font-semibold');
                    }
                } else {
                    incorrectlyAnsweredQuestions.push(currentQuestion);
                    inputField.classList.add('incorrect');
                     let feedback = `Incorrecto. `;
                     if (currentQuestion.explanation) {
                         feedback += `${currentQuestion.explanation} `;
                     }
                    feedback += `La respuesta correcta era: ${primaryCorrectAnswer}`;
                    feedbackText.textContent = feedback;
                    feedbackText.classList.remove('text-gray-600');
                    feedbackText.classList.add('text-red-500', 'font-semibold');
                }

                checkBtn.classList.add('hidden');
                nextBtn.classList.remove('hidden');
            }


            // Event listener para el botón Siguiente
            nextBtn.addEventListener('click', () => {
                currentQuestionIndex++;
                if (currentQuestionIndex < QUESTIONS_PER_QUIZ) { // Use QUESTIONS_PER_QUIZ
                    showQuestion();
                } else {
                    showResults();
                }
            });

            // Función para mostrar la pantalla de resultados
            function showResults() {
                quizScreen.classList.add('hidden');
                resultScreen.classList.remove('hidden');
                const percentage = Math.round((score / QUESTIONS_PER_QUIZ) * 100); // Use QUESTIONS_PER_QUIZ
                finalScoreDisplay.textContent = `${percentage}%`;

                let message = '';
                if (percentage >= 95) {
                    message = "¡Extraordinario! Tienes un dominio total del tema.";
                } else if (percentage >= 80) {
                    message = "¡Excelente trabajo! Has asimilado la mayor parte.";
                } else if (percentage >= 60) {
                    message = "¡Buen esfuerzo! Repasa la guía de refuerzo.";
                } else {
                    message = "¡No te desanimes! Usa la guía para mejorar.";
                }
                finalMessage.textContent = message;

                generateStudyGuide();
            }

            // Función para generar la Guía de Refuerzo (HTML para pantalla)
            function generateStudyGuide() {
                let screenGuideHTML = '';
                if (incorrectlyAnsweredQuestions.length > 0) {
                     screenGuideHTML = '<h2 class="text-2xl font-bold text-brand-dark-blue mb-4">Guía de Refuerzo</h2>'; // Add title
                     screenGuideHTML += '<p class="mb-4 text-brand-dark-blue/80 print-hidden">Repasa las preguntas que respondiste incorrectamente:</p>'; // Add instruction
                     screenGuideHTML += '<div class="border-t-2 border-brand-blue pt-6">'; // Container start

                    incorrectlyAnsweredQuestions.forEach((q, index) => {
                        let correctAnswerText = '';
                        if (q.type === 'tf') {
                             correctAnswerText = q.answer ? 'Verdadero' : 'Falso';
                        } else if (Array.isArray(q.answer)) {
                             correctAnswerText = q.answer.join(', '); // For multiple choice
                        } else {
                             correctAnswerText = q.answer.toString().split('|')[0]; // For completion, show primary
                        }

                        screenGuideHTML += `
                            <div class="mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200 guide-item">
                                <p class="font-semibold text-gray-700 mb-2">Pregunta #${q.id || (index + 1)}: <span class="font-normal">${q.question}</span></p>
                                <p class="font-semibold text-green-600">Respuesta Correcta: <span class="font-normal text-gray-800">${correctAnswerText}</span></p>
                                ${q.explanation ? `<p class="font-semibold mt-2 text-blue-600">Repaso Clave: <span class="font-normal text-gray-700">${q.explanation}</span></p>` : ''}
                            </div>`;
                    });
                    screenGuideHTML += '</div>'; // Container end

                    studyGuideContainer.innerHTML = screenGuideHTML;

                } else {
                    studyGuideContainer.innerHTML = `
                        <div class="border-t-2 border-brand-blue pt-6 text-center">
                            <p class="text-lg font-semibold text-green-600">¡Felicidades! ¡Respondiste todo correctamente!</p>
                        </div>`;
                }
            }


            // Event listener para el botón "Volver a Jugar" (recarga la página)
            restartBtn.addEventListener('click', () => {
                location.reload();
            });

             // --- Lógica para Copiar Datos de Pago ---
            copyPaymentDataBtn.addEventListener('click', () => {
                 const paymentText =
`Datos para Pago Móvil - Kraneao:
Banco: Bancamiga
Nombre: Esteban Garcia
C.I.: V-17.404.104
Teléfono: 04267619312`;

                // Use modern clipboard API first
                navigator.clipboard.writeText(paymentText).then(() => {
                    copyMessageDiv.textContent = "¡Datos de Pago Móvil copiados!";
                    copyMessageDiv.classList.remove('hidden');
                    setTimeout(() => {
                        copyMessageDiv.classList.add('hidden');
                    }, 3000);
                }).catch(err => {
                    console.error('Error al copiar el texto con API moderna: ', err);
                    // Fallback to execCommand
                    try {
                        const textArea = document.createElement('textarea');
                        textArea.value = paymentText;
                        // Make the textarea out of sight
                        textArea.style.position = 'fixed';
                        textArea.style.top = '-9999px';
                        textArea.style.left = '-9999px';
                        document.body.appendChild(textArea);
                        textArea.focus();
                        textArea.select();
                        document.execCommand('copy'); // Security vulnerability, but necessary for fallback
                        document.body.removeChild(textArea);

                        copyMessageDiv.textContent = "¡Datos de Pago Móvil copiados!";
                        copyMessageDiv.classList.remove('hidden');
                        setTimeout(() => {
                            copyMessageDiv.classList.add('hidden');
                        }, 3000);
                    } catch (e) {
                        console.error('Error al copiar con execCommand: ', e);
                        // Provide manual instructions if both fail
                        alert('No se pudieron copiar los datos automáticamente. Por favor, cópialos manualmente:\n\n' + paymentText);
                    }
                });
            });


            // Iniciar el cuestionario al cargar la página
            startQuiz();
            // --- FIN: LÓGICA DEL CUESTIONARIO ---
        }); // Fin del DOMContentLoaded
    </script>
</body>
</html>
